<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=PT+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,cyrillic,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


/* meyer reset -- http://meyerweb.com/eric/tools/css/reset/ , v2.0 | 20110126 | License: none (public domain) */

@include-when-export url(https://fonts.loli.net/css?family=PT+Serif:400,400italic,700,700italic&subset=latin,cyrillic-ext,cyrillic,latin-ext);

/* =========== */

/* pt-serif-regular - latin */
/* pt-serif-italic - latin */
/* pt-serif-700 - latin */
/* pt-serif-700italic - latin */
:root {
	--active-file-bg-color: #dadada;
	--active-file-bg-color: rgba(32, 43, 51, 0.63);
	--active-file-text-color: white;
	--bg-color: #f3f2ee;
	--text-color: #1f0909;
	--control-text-color: #444;
	--rawblock-edit-panel-bd: #e5e5e5;

	--select-text-bg-color: rgba(32, 43, 51, 0.63);
  --select-text-font-color: white;
}

pre {
	--select-text-bg-color: #36284e;
	--select-text-font-color: #fff;
}

html {
	font-size: 16px;
	-webkit-font-smoothing: antialiased;
}

html, body {
	background-color: #f3f2ee;
	font-family: "PT Serif", 'Times New Roman', Times, serif;
	color: #1f0909;
	line-height: 1.5em;
}

/*#write {
	overflow-x: auto;
    max-width: initial;
	padding-left: calc(50% - 17em);
    padding-right: calc(50% - 17em);
}

@media (max-width: 36em) {
 	#write {
 		padding-left: 1em;
    	padding-right: 1em;
 	}
}*/

#write {
	max-width: 40em;
}

@media only screen and (min-width: 1400px) {
	#write {
			max-width: 914px;
	}
}

ol li {
	list-style-type: decimal;
	list-style-position: outside;
}
ul li {
	list-style-type: disc;
	list-style-position: outside;
}

ol,
ul {
	list-style: none;
}

blockquote,
q {
	quotes: none;
}
blockquote:before,
blockquote:after,
q:before,
q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
/* styles */

/* ====== */

/* headings */

h1,
h2,
h3,
h4,
h5,
h6 {
	font-weight: bold;
}
h1 {
	font-size: 1.875em;
	/*30 / 16*/
	line-height: 1.6em;
	/* 48 / 30*/
	margin-top: 2em;
}
h2,
h3 {
	font-size: 1.3125em;
	/*21 / 16*/
	line-height: 1.15;
	/*24 / 21*/
	margin-top: 2.285714em;
	/*48 / 21*/
	margin-bottom: 1.15em;
	/*24 / 21*/
}
h3 {
	font-weight: normal;
}
h4 {
	font-size: 1.125em;
	/*18 / 16*/
	margin-top: 2.67em;
	/*48 / 18*/
}
h5,
h6 {
	font-size: 1em;
	/*16*/
}
h1 {
	border-bottom: 1px solid;
	margin-bottom: 1.875em;
	padding-bottom: 0.8125em;
}
/* links */

a {
	text-decoration: none;
	color: #065588;
}
a:hover,
a:active {
	text-decoration: underline;
}
/* block spacing */

p,
blockquote,
.md-fences {
	margin-bottom: 1.5em;
}
h1,
h2,
h3,
h4,
h5,
h6 {
	margin-bottom: 1.5em;
}
/* blockquote */

blockquote {
	font-style: italic;
	border-left: 5px solid;
	margin-left: 2em;
	padding-left: 1em;
}
/* lists */

ul,
ol {
	margin: 0 0 1.5em 1.5em;
}
/* tables */
.md-meta,.md-before, .md-after {
	color:#999;
}

table {
	margin-bottom: 1.5em;
	/*24 / 16*/
	font-size: 1em;
	/* width: 100%; */
}
thead th,
tfoot th {
	padding: .25em .25em .25em .4em;
	text-transform: uppercase;
}
th {
	text-align: left;
}
td {
	vertical-align: top;
	padding: .25em .25em .25em .4em;
}

code,
.md-fences {
	background-color: #dadada;
}

code {
	padding-left: 2px;
	padding-right: 2px;
}

.md-fences {
	margin-left: 2em;
	margin-bottom: 3em;
	padding-left: 1ch;
	padding-right: 1ch;
}

pre,
code,
tt {
	font-size: .875em;
	line-height: 1.714285em;
}
/* some fixes */

h1 {
	line-height: 1.3em;
	font-weight: normal;
	margin-bottom: 0.5em;
}

p + ul,
p + ol{
	margin-top: .5em;
}

h3 + ul,
h4 + ul,
h5 + ul,
h6 + ul,
h3 + ol,
h4 + ol,
h5 + ol,
h6 + ol {
	margin-top: .5em;
}

li > ul,
li > ol {
	margin-top: inherit;
	margin-bottom: 0;
}

li ol>li {
	list-style-type: lower-alpha;
}

li li ol>li{
	list-style-type: lower-roman;
}

h2,
h3 {
	margin-bottom: .75em;
}
hr {
	border-top: none;
	border-right: none;
	border-bottom: 1px solid;
	border-left: none;
}
h1 {
	border-color: #c5c5c5;
}
blockquote {
	border-color: #bababa;
	color: #656565;
}

blockquote ul,
blockquote ol {
	margin-left:0;
}

.ty-table-edit {
	background-color: transparent;
}
thead {
	background-color: #dadada;
}
tr:nth-child(even) {
	background: #e8e7e7;
}
hr {
	border-color: #c5c5c5;
}
.task-list{
	padding-left: 1rem;
}

.md-task-list-item {
	padding-left: 1.5rem;
	list-style-type: none;
}

.md-task-list-item > input:before {
	content: '\221A';
	display: inline-block;
	width: 1.25rem;
  	height: 1.6rem;
	vertical-align: middle;
	text-align: center;
	color: #ddd;
	background-color: #F3F2EE;
}

.md-task-list-item > input:checked:before,
.md-task-list-item > input[checked]:before{
	color: inherit;
}

#write pre.md-meta-block {
	min-height: 1.875rem;
	color: #555;
	border: 0px;
	background: transparent;
	margin-top: -4px;
	margin-left: 1em;
	margin-top: 1em;
}

.md-image>.md-meta {
	color: #9B5146;
}

.md-image>.md-meta{
	font-family: Menlo, 'Ubuntu Mono', Consolas, 'Courier New', 'Microsoft Yahei', 'Hiragino Sans GB', 'WenQuanYi Micro Hei', serif;
}


#write>h3.md-focus:before{
	left: -1.5rem;
	color:#999;
	border-color:#999;
}
#write>h4.md-focus:before{
	left: -1.5rem;
	top: .25rem;
	color:#999;
	border-color:#999;
}
#write>h5.md-focus:before{
	left: -1.5rem;
	top: .0.3125rem;
	color:#999;
	border-color:#999;
}
#write>h6.md-focus:before{
	left: -1.5rem;
	top: 0.3125rem;
	color:#999;
	border-color:#999;
}

.md-toc:focus .md-toc-content{
	margin-top: 19px;
}

.md-toc-content:empty:before{
	color: #065588;
}
.md-toc-item {
	color: #065588;
}
#write div.md-toc-tooltip {
	background-color: #f3f2ee;
}

#typora-sidebar {
	background-color: #f3f2ee;
	-webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.375);
  	box-shadow: 0 6px 12px rgba(0, 0, 0, 0.375);
}

.pin-outline #typora-sidebar {
	background: inherit;
	box-shadow: none;
	border-right: 1px dashed;
}

.pin-outline #typora-sidebar:hover .outline-title-wrapper {
	border-left:1px dashed;
}

.outline-item:hover {
  background-color: #dadada;
  border-left: 28px solid #dadada;
  border-right: 18px solid #dadada;
}

.typora-node .outline-item:hover {
  	border-right: 28px solid #dadada;
}

.outline-expander:before {
  content: "\f0da";
  font-family: FontAwesome;
  font-size:14px;
  top: 1px;
}

.outline-expander:hover:before,
.outline-item-open>.outline-item>.outline-expander:before {
  content: "\f0d7";
}

.modal-content {
	background-color: #f3f2ee;
}

.auto-suggest-container ul li {
	list-style-type: none;
}

/** UI for electron */

.megamenu-menu,
#top-titlebar, #top-titlebar *,
.megamenu-content {
	background: #f3f2ee;
	color: #1f0909;
}

.megamenu-menu-header {
	border-bottom: 1px dashed #202B33;
}

.megamenu-menu {
	box-shadow: none;
	border-right: 1px dashed;
}

header, .context-menu, .megamenu-content, footer {
	font-family: "PT Serif", 'Times New Roman', Times, serif;
    color: #1f0909;
}

#megamenu-back-btn {
	color: #1f0909;
	border-color: #1f0909;
}

.megamenu-menu-header #megamenu-menu-header-title:before {
	color: #1f0909;
}

.megamenu-menu-list li a:hover, .megamenu-menu-list li a.active {
	color: inherit;
	background-color: #e8e7df;
}

.long-btn:hover {
	background-color: #e8e7df;
}

#recent-file-panel tbody tr:nth-child(2n-1) {
    background-color: transparent !important;
}

.megamenu-menu-panel tbody tr:hover td:nth-child(2) {
    color: inherit;
}

.megamenu-menu-panel .btn {
	background-color: #D2D1D1;
}

.btn-default {
	background-color: transparent;
}

.typora-sourceview-on #toggle-sourceview-btn,
.ty-show-word-count #footer-word-count {
	background: #c7c5c5;
}

#typora-quick-open {
    background-color: inherit;
}

.md-diagram-panel {
	margin-top: 8px;
}

.file-list-item-file-name {
	font-weight: initial;
}

.file-list-item-summary {
	opacity: 1;
}

.file-list-item {
	color: #777;
}

.file-list-item.active {
	background-color: inherit;
	color: black;
}

.ty-side-sort-btn.active {
	background-color: inherit;
}

.file-list-item.active .file-list-item-file-name  {
	font-weight: bold;
}

.file-list-item{
    opacity:1 !important;
}

.file-library-node.active>.file-node-background{
	background-color: rgba(32, 43, 51, 0.63);
	background-color: var(--active-file-bg-color);
}

.file-tree-node.active>.file-node-content{
	color: white;
	color: var(--active-file-text-color);
}

.md-task-list-item>input {
	margin-left: -1.7em;
	margin-top: calc(1rem - 12px);
	-webkit-appearance: button;
}

input {
	border: 1px solid #aaa;
}

.megamenu-menu-header #megamenu-menu-header-title,
.megamenu-menu-header:hover, 
.megamenu-menu-header:focus {
	color: inherit;
}

.dropdown-menu .divider {
	border-color: #e5e5e5;
	opacity: 1;
}

/* https://github.com/typora/typora-issues/issues/2046 */
.os-windows-7 strong,
.os-windows-7 strong  {
	font-weight: 760;
}

.ty-preferences .btn-default {
	background: transparent;
}

.ty-preferences .window-header {
	border-bottom: 1px dashed #202B33;
	box-shadow: none;
}

#sidebar-loading-template, #sidebar-loading-template.file-list-item {
	color: #777;
}

.searchpanel-search-option-btn.active {
	background: #777;
	color: white;
}

.export-detail, .light .export-detail, 
.light .export-item.active, 
.light .export-items-list-control {
	background: #e0e0e0;
	border-radius: 2px;
	font-weight: 700;
	color: inherit
}


mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}
mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
							stroke-width: 0;
						}
</style><title>知识点</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='c'><span>c++</span></h1><h2 id='static-5点'><span>static 5点</span></h2><ol start='' ><li><span>修饰局部变量：使局部变量成为</span><strong><span>静态变量</span></strong><span>，存储在静态区</span></li><li><span>修饰全局变量/函数：限制全局变量/函数的链接性为</span><strong><span>内部链接</span></strong><span>，函数的声明和定义需要放在同一文件夹</span></li><li><span>修饰成员变量：使之成为</span><strong><span>类的全局变量</span></strong><span>，被类的所有对象共享，包括派生类对象，但是只维持一个实例，必须在</span><strong><span>类外初始化</span></strong><span>（ C++11仅不允许在类声明中初始化static非const类型的数据成员）</span></li><li><span>修饰成员函数：使之成为</span><strong><span>类的全局函数</span></strong><span>，被类的所有对象共享，包括派生类对象，但是只维持一个实例，</span><strong><span>不含this指针，只能访问static成员变量</span></strong></li><li><span>隐藏特性（内部链接性）：static可保证函数和全局变量只在当前文件可见，防止同名函数/变量的命名冲突</span></li></ol><h2 id='const-11点'><span>const 11点</span></h2><ol start='' ><li><p><span>常量性：防止意外的修改，增强程序的健壮性</span></p></li><li><p><span>类型检查：用const替换#define，const常量有</span><strong><span>数据类型</span></strong><span>，而宏常量没有数据类型。编译器可以对前者进行类型</span><strong><span>安全检查</span></strong><span>，而对后者只进行</span><strong><span>字符替换</span></strong><span>，没有类型安全检查，并且在字符替换时可能会产生意料不到的错误</span></p></li><li><p><span>可以节省空间，避免不必要的内存分配：const定义的常量在程序运行过程中只有一份拷贝，而#define定义的常量在内存中有若干个拷贝</span></p></li><li><p><span>const指针：</span></p><ol start='' ><li><strong><span>const默认与左边结合，左边没有东西则与右边结合</span></strong></li><li><span>指针指向常量</span></li><li><span>指针本身是常量</span></li><li><span>本身是常量且指向常量的指针</span></li></ol></li><li><p><span>const 引用</span></p><ol start='' ><li><span>非常量引用不能绑定一个常量；</span><strong><span>常量引用可以绑定一个变量</span></strong></li><li><span>引用的类型必须严格匹配，或者能相互转换</span></li></ol></li><li><p><span>函数的const：</span></p><ol start='' ><li><span>参数不可变</span></li><li><span>返回值不可变：函数的返回值为某个对象时，如果将其声明为const时，多用于</span><strong><span>操作符的重载</span></strong><span>。通常，不建议用const修饰函数的返回值类型为某个对象或对某个对象引用的情况</span></li></ol></li><li><p><span>类相关const</span></p><ol start='' ><li><span>修饰类成员变量：表示成员常量，不能被修改，同时它</span><strong><span>只能在初始化列表中赋值</span></strong><span>。</span></li><li><span>修饰类成员函数：该成员函数</span><strong><span>不能修改类中任何成员对象</span></strong><span>。一般写在函数的最后来修饰</span></li></ol></li><li><p><span>去掉const性质</span></p><ol start='' ><li><span>const_cast：将常量指针/引用被转化成非常量指针/引用，并且仍然指向原来的对象</span></li><li><span>mutable声明</span></li></ol></li><li><p><span>默认为内部链接性，外部链接性加</span><code>extern const int x</code></p></li><li><p><span>尽量多使用const，不要轻易的将函数的返回值类型定为const，任何不会修改数据成员的函数都应该声明为const 类型</span></p></li><li><figure><table><thead><tr><th>&nbsp;</th><th><span>const</span></th><th><span>#define（简单的字符串文本替换）</span></th><th><span>typedef（定义了一种类型的新别名）</span></th></tr></thead><tbody><tr><td><span>定义常数</span></td><td><span>有数据类型</span></td><td><span>没有数据类型</span></td><td><span>有数据类型</span></td></tr><tr><td><span>作用的阶段</span></td><td><span>编译期运行期</span></td><td><span>预处理阶段</span></td><td><span>编译期</span></td></tr><tr><td><span>内存中</span></td><td><span>数据段</span></td><td><span>代码段</span></td><td><span>静态存储区</span></td></tr><tr><td><span>指针</span></td><td><span>可以指向地址</span></td><td><span>不可以指向</span></td><td>&nbsp;</td></tr><tr><td><span>定义函数</span></td><td><span>不可以</span></td><td><span>可以</span></td><td>&nbsp;</td></tr><tr><td><span>弊端</span></td><td>&nbsp;</td><td><span>没有类型检测，不能调试，要考虑边界效应</span></td><td>&nbsp;</td></tr><tr><td><span>用法</span></td><td>&nbsp;</td><td><span>防止头文件重复引用</span></td><td>&nbsp;</td></tr></tbody></table></figure></li></ol><h2 id='虚函数-13点'><span>虚函数 13点</span></h2><ol start='' ><li><p><span>实现原理：</span><strong><span>通过对象内存中的vptr找到虚函数表vtbl，接着通过vtbl找到对应虚函数的地址并进行调用。</span></strong><span>如果派生类提供了虚函数的新定义，虚表就存着新函数地址，否则存原函数的地址</span></p></li><li><p><span>开销</span></p><ol start='' ><li><span>空间开销：每一个包含虚函数的类生成一个虚函数表；包含虚函数的类的实例包含一个虚函数表指针</span></li><li><span>时间开销：增加了一次内存寻址</span></li><li><span>妨碍内联</span></li></ol></li><li><p><span>虚函数表指针(vptr)创建时机：对象什么时候创建出来，vptr就什么时候创建出来，也就是</span><strong><span>运行期</span></strong><span>。</span>
<span>编译器会</span><strong><span>为构造函数中增加为vptr赋值的代码</span></strong><span>，当程序在运行时，遇到创建对象的代码，执行对象的构造函数，那么这个构造函数里有为这个对象的vptr赋值的语句。</span></p><p><span>虚函数表创建时机：虚函数表创建时机是在</span><strong><span>编译期</span></strong><span>。编译期间编译器就为每个类确定好了对应的虚函数表里的内容。所以在程序运行时，编译器会把虚函数表的首地址赋值给虚函数表指针。</span></p></li><li><p><span>普通函数，友元函数，内联函数，静态成员函数都不能是虚函数</span></p></li><li><p><span>构造函数不能是虚函数：在构造函数完成之前，</span><strong><span>vptr是没有值的</span></strong><span>，也就无法通过vptr找到作为虚函数的构造函数所在的代码区，所以构造函数只能作为普通函数存放在类所指定的代码区中。</span></p></li><li><p><span>析构函数最好是虚函数：如果析构函数不是虚函数，那么</span><strong><span>调用的将会是基类base的析构函数</span></strong><span>。 而当继承的时候，通常派生类会在基类的基础上定义自己的成员，此时我们当时是希望可以调用派生类的析构函数对新定义的成员也进行析构</span></p></li><li><p><span>主要用途：构成多态，子类继承自父类，重写父类虚方法，父指针指向子类</span></p></li><li><p><span>memset不能对含有虚函数的类操作：类中含有虚函数，因此类的对象(实例）就会含有vfptr指向虚函数表，而构造函数调用memset(this, 0, sizeof(st))将类中的</span><strong><span>vfptr指针置零</span></strong><span>，才会导致delete对象时访问vfptr错误，从而抛出异常。</span></p></li><li><p><span>虚函数表位于常量区；而虚函数则位于代码区。</span></p></li><li><p><span>管理虚函数：</span></p><ol start='' ><li><span>override :表明要覆盖一个基类的虚函数，如果类型不匹配就会报错</span></li><li><span>final：禁止派生类覆盖方法</span></li></ol></li><li><p><span>构造/析构函数调用虚函数：语法上行得通，效果上往往达不到预期目标。绝不在构造和析构过程中调用virtual,因为构造函数中的base的虚函数</span><strong><span>不会下降到derived上</span></strong><span>。而是直接调用base类的虚函数，没有动态绑定的效果。</span></p></li><li><p><span>含有虚表的类的大小要加上vptr的大小</span></p></li><li><p><span>纯虚函数：</span></p><ol start='' ><li><p><span>纯虚函数只提供具体指定</span><strong><span>接口继承</span></strong><span>；虚函数具体指定</span><strong><span>接口继承及缺省实现</span></strong><span>继承；普通函数具体指定</span><strong><span>接口继承以及强制性实现继承</span></strong></p></li><li><p><span>抽象类 &amp;&amp; 接口</span></p><figure><table><thead><tr><th>&nbsp;</th><th><span>抽象类</span></th><th><span>接口</span></th></tr></thead><tbody><tr><td><span>形式</span></td><td><span>带有纯虚函数的类称为抽象类。</span></td><td><span>一个类里面只有纯虚函数，没有其他[成员函数和数据成员</span></td></tr><tr><td><span>目的</span></td><td><span>抽象类用于代码复用，为派生类提供一个公共的根</span></td><td><span>接口用于抽象事物的特性，侧重功能的实现</span></td></tr><tr><td><span>举例</span></td><td><span>人（抽象）-&gt;男人女人（具体）</span></td><td><span>说话接口，走路接口。加到人上，人就可以说话和走路了</span></td></tr></tbody></table></figure></li></ol></li></ol><h2 id='智能指针-6点'><span>智能指针 6点</span></h2><ol start='' ><li><p><span>目的：防止内存泄漏</span></p></li><li><p><span>auto_ptr：</span></p><ol start='' ><li><span>通过 operator = 转移所有权，且之前的指针指向NULL，不安全</span></li><li><span>不能用多个auto_ptr指向同一个对象，防止多次释放</span></li></ol></li><li><p><span>unique_ptr</span></p><ul><li><span>拷贝构造函数和赋值运算符重载函数</span><strong><span>只声明不实现</span></strong></li><li><span>用</span><strong><span>private</span></strong><span>对其进行访问限定，防止在类外定义</span></li><li><span>由于 unique_ptr是</span><strong><span>独享所有权</span></strong><span>的，所以明确拒绝用户写“my_memory2 = my_memory”之类的语句</span></li><li><span>用unique_ptr代替auto_ptr的原因，本质上来说，就是unique_ptr禁用了copy，而用move替代。</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span> <span class="cm-operator">&lt;</span><span class="cm-keyword">typename</span> <span class="cm-variable">T</span><span class="cm-operator">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">unique_ptr</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">T</span><span class="cm-operator">*</span> <span class="cm-variable">_ptr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Construct from plain pointer</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">explicit</span> <span class="cm-variable">unique_ptr</span>(<span class="cm-variable">T</span><span class="cm-operator">*</span> <span class="cm-variable">ptr</span>) : <span class="cm-variable">_ptr</span>(<span class="cm-variable">ptr</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">std::cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"unique_ptr constructed"</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">std::endl</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  };</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Move constructor</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">unique_ptr</span>(<span class="cm-variable">unique_ptr</span> <span class="cm-operator">&amp;&amp;</span><span class="cm-variable">ptr</span>) <span class="cm-keyword">noexcept</span> : <span class="cm-variable">_ptr</span>(<span class="cm-variable">ptr</span>.<span class="cm-variable">_ptr</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ptr</span>.<span class="cm-variable">_ptr</span> <span class="cm-operator">=</span> <span class="cm-keyword">nullptr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">std::cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"unique_ptr move constructed"</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">std::endl</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Copy constructor is forbidden</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">unique_ptr</span>(<span class="cm-variable">unique_ptr</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ptr</span>) <span class="cm-operator">=</span> <span class="cm-keyword">delete</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Move assignment</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">unique_ptr</span><span class="cm-operator">&amp;</span> <span class="cm-keyword">operator</span><span class="cm-operator">=</span>(<span class="cm-variable">unique_ptr</span> <span class="cm-operator">&amp;&amp;</span><span class="cm-variable">ptr</span>) <span class="cm-keyword">noexcept</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-keyword">this</span> <span class="cm-operator">==</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ptr</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-operator">*</span><span class="cm-keyword">this</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">_ptr</span> <span class="cm-operator">=</span> <span class="cm-variable">ptr</span>.<span class="cm-variable">_ptr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ptr</span>.<span class="cm-variable">_ptr</span> <span class="cm-operator">=</span> <span class="cm-keyword">nullptr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-operator">*</span><span class="cm-keyword">this</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">// Copy assignment is forbidden</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">unique_ptr</span><span class="cm-operator">&amp;</span> <span class="cm-keyword">operator</span><span class="cm-operator">=</span>(<span class="cm-variable">unique_ptr</span> <span class="cm-operator">&amp;</span><span class="cm-variable">ptr</span>) <span class="cm-operator">=</span> <span class="cm-keyword">delete</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">~unique_ptr</span>() {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">delete</span> <span class="cm-variable">_ptr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">std::cout</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-string">"unique_ptr destructed"</span> <span class="cm-operator">&lt;&lt;</span> <span class="cm-variable">std::endl</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">T</span><span class="cm-operator">*</span> <span class="cm-keyword">operator</span><span class="cm-operator">-&gt;</span>() {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">_ptr</span>; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1008px;"></div><div class="CodeMirror-gutters" style="height: 1008px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre></li><li><p><span>scoped_ptr</span></p><ul><li><span>禁止 operator= ，且没有移动语义，对象只能绑定在当前的指针上</span></li></ul></li></ol><ol start='5' ><li><p><span>shared_ptr</span></p><ul><li><span>shared_ptr使用引用计数,每使用他一次，内部的引用计数加1，每析构一次，内部的引用计数减1，减为0时，自动删除所指向的堆内存。</span></li><li><span>用于单对象共享</span></li></ul></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>39</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span><span class="cm-operator">&lt;</span><span class="cm-keyword">class</span> <span class="cm-def">T</span><span class="cm-operator">&gt;</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">Shared_ptr</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable-3">int*</span> <span class="cm-variable">count</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">T</span><span class="cm-operator">*</span> <span class="cm-variable">_pPtr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">Shared_ptr</span>(<span class="cm-variable">T</span><span class="cm-operator">*</span><span class="cm-variable">ptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>:<span class="cm-variable">_pPtr</span>(<span class="cm-variable">ptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>,<span class="cm-variable">count</span>(<span class="cm-keyword">new</span> <span class="cm-variable-3">int</span>(<span class="cm-number">1</span>)){}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">Shared_ptr</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Shared_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;&amp;</span> <span class="cm-variable">sp</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>:<span class="cm-variable">_pPtr</span>(<span class="cm-variable">sp</span>.<span class="cm-variable">_pPtr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>,<span class="cm-variable">count</span>(<span class="cm-operator">&amp;</span>(<span class="cm-operator">++</span> <span class="cm-operator">*</span> <span class="cm-variable">sp</span>.<span class="cm-variable">count</span>)){}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">Shared_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;&amp;</span> <span class="cm-keyword">operator</span> <span class="cm-operator">=</span>(<span class="cm-keyword">const</span> <span class="cm-variable">Shared_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;&amp;</span> <span class="cm-variable">sp</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">sp</span> <span class="cm-operator">!=</span> <span class="cm-operator">*</span><span class="cm-keyword">this</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">++*</span> <span class="cm-variable">sp</span>.<span class="cm-variable">count</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">count</span> <span class="cm-operator">=</span> <span class="cm-variable">sp</span>.<span class="cm-variable">count</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">_pPtr</span> <span class="cm-operator">=</span> <span class="cm-variable">sp</span>.<span class="cm-variable">_pPtr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">return</span> <span class="cm-operator">*</span><span class="cm-keyword">this</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">~Shared_ptr</span>()</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-operator">--*</span> <span class="cm-variable">count</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-operator">*</span><span class="cm-variable">count</span> <span class="cm-operator">==</span> <span class="cm-number">0</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">delete</span> <span class="cm-variable">count</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">delete</span> <span class="cm-variable">_pPtr</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">T</span><span class="cm-operator">*</span> <span class="cm-keyword">operator</span><span class="cm-operator">-&gt;</span>() { <span class="cm-keyword">return</span> <span class="cm-variable">_ptr</span>; }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">T</span> <span class="cm-operator">&amp;</span> <span class="cm-keyword">operator</span><span class="cm-operator">*</span>() { <span class="cm-keyword">return</span> <span class="cm-operator">*</span><span class="cm-variable">_ptr</span>; }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 936px;"></div><div class="CodeMirror-gutters" style="height: 936px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ol start='6' ><li><p><span>weak_ptr</span></p><ul><li><span>解决shared_ptr的循环引用问题</span></li><li><span>weak_ptr </span><strong><span>只对 shared_ptr 进行引用，而不改变其引用计数</span></strong><span>，当被观察的shared_ptr 失效后，相应的weak_ptr 也相应失效。</span></li></ul></li></ol><h2 id='多态'><span>多态</span></h2><ol start='' ><li><p><span>静态多态</span></p><ol start='' ><li><p><span>模板</span></p></li><li><p><span>函数重载：</span></p><ol start='' ><li><p><span>在同一作用域下，函数名相同，但是参数列表不同。</span></p></li><li><p><span>编译器面对函数重载的处理方法(mangling)</span>
<span>	</span><span>1. 创建候选函数列表，包含</span><strong><span>函数名</span></strong><span>相同的函数</span></p><ol start='2' ><li><span>创建可行函数列表，包含</span><strong><span>参数数目</span></strong><span>正确的函数</span></li><li><span>确定是否有</span><strong><span>最佳可行函数</span></strong><span>,重载会选择最匹配的来使用：判断依据：一等：完美匹配，二等：提升转换，三等：标准转换，四等：自定义转换</span></li></ol></li></ol></li><li><p><span>宏：</span><code>#define add(a,b) ((a)+(b))</code></p></li></ol></li><li><p><span>动态多态</span></p><ol start='' ><li><span>条件：</span><strong><span>继承。函数重写。基类指针(引用)指向派生类对象</span></strong><span>。</span></li><li><span>分别在基类和派生类中(在不同作用域下)，函数名相同，参数相同，返回类型相同，并且基类函数必须为虚函数。</span></li></ol></li></ol><h2 id='类型转换运算符cast-4点'><span>类型转换运算符cast 4点</span></h2><ul><li><p><span>类强制转换</span></p><ul><li><span>向上强制转换：安全，父类可以指向或引用它的每一级派生类</span></li><li><span>向下强制转换：不安全，必须被显式强制转换，父类可能没有子类的某些方法，转换成子类有问题</span></li></ul></li></ul><figure><table><thead><tr><th><span>种类</span></th><th><span>用法</span></th></tr></thead><tbody><tr><td><span>static_cast</span></td><td><span>基本类型转换</span><br><span>父子类相互转换（无安全检查）</span><br><span>把任何类型的表达式转换为void类型</span><br><span>把空指针转换成目标类型的空指针</span></td></tr><tr><td><span>dynamic_cast</span></td><td><span>允许安全的向上转换 </span><br><span>检查向下转换，如果安全则允许转换</span><br><span>需要在基类有虚函数 </span><br><span>只能是指针或者引用的转换</span></td></tr><tr><td><span>const_cast</span></td><td><span>去掉指针或者引用的const性</span></td></tr><tr><td><span>reinterpret_cast</span></td><td><span>非关联类型的转换</span><br><span>将指针转换成足以存储指针的整型</span><br><span>将指针转换成足以存储指针的整型</span><br><span>改变指针或者引用的类型</span><br><span>意图执行低级转型</span></td></tr></tbody></table></figure><h2 id='c11新特性'><span>C++11新特性</span></h2><ol start='' ><li><p><span>智能指针：解决内存泄漏问题</span></p></li><li><p><span>右值：减少拷贝开销</span></p></li><li><p><span>新类型</span></p><ol start='' ><li><span>long long</span></li><li><span>unsigned long long</span></li><li><span>char16_t：前缀 u</span></li><li><span>char32_t：前缀 U</span></li><li><span>原始字符串：没有转义字符，前缀R</span></li></ol></li><li><p><code>{}</code><span>初始化</span></p></li><li><p><span>类型推导：</span><code>decltype</code></p></li><li><p><span>auto：简化复杂的类型</span></p></li><li><p><span>后置返回类型</span></p></li><li><p><span>模板别名：using</span></p></li><li><p><span>nullptr空指针：解决NULL（0）的函数参数匹配问题</span></p></li><li><p><span>noexpect</span></p><ol start='' ><li><span>指出函数不会引发异常</span></li><li><span>判断表达式是否可能引发异常</span></li></ol></li><li><p><span>枚举类</span></p><ol start='' ><li><span>传统的枚举在同一作用域内，它的成员不能同名</span></li><li><span>新的枚举的作用域为类</span></li></ol></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">enum</span> <span class="cm-keyword">class</span> <span class="cm-def">T_shirt</span>{<span class="cm-variable">S</span>,<span class="cm-variable">M</span>,<span class="cm-variable">L</span>,<span class="cm-variable">XL</span>};</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">T_shirt</span> <span class="cm-variable">size</span> <span class="cm-operator">=</span> <span class="cm-variable">T_shirt::L</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div><div class="CodeMirror-gutters" style="height: 48px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><ol start='11' ><li><p><span>显式转换explicit：禁止自动类型转换</span></p></li><li><p><span>类内成员初始化：</span></p><ol start='' ><li><span>默认值可用{} 或= 进行初始化，和初始化列表等价</span></li><li><span>初始化列表和类内初始化同时存在，初始化列表会覆盖之</span></li><li><span>解决初始化列表初始化数据太多</span></li></ol></li><li><p><span>类成员函数的控制</span></p><ol start='' ><li><span>=default：生成默认函数；</span><strong><span>只能用于6个缺省函数</span></strong></li><li><span>=delete：</span><strong><span>禁止编译器使用该函数</span></strong><span>；可用于任意函数</span></li></ol></li><li><p><span>基于范围的</span><code>for</code><span>循环</span></p></li><li><p><span>register：声明变量到寄存器当中，而非内存，这样效率更高；用于解决函数内外变量名冲突</span></p></li><li><p><span>命名空间：可以是全局的，也可以嵌套在其他命名空间里</span></p></li><li><p><span>STL新方法：</span></p><ol start='' ><li><span>cbegin，cend，crbegin，crend</span></li><li><span>valarray：提供更多的数据处理功能</span></li></ol></li><li><p><span>虚函数重写控制</span></p><ol start='' ><li><span>override：要覆盖一个基类虚方法</span></li><li><span>final：禁止派生类覆盖方法</span></li></ol></li><li><p><span>lambda表达式：简化结构简单的函数代码</span></p></li><li><p><span>function包装器</span></p></li><li><p><span>可变参数模板</span></p><ol start='' ><li><span>...元运算符</span></li><li><span>Args模板参数包</span></li><li><span>args函数参数包</span></li></ol></li><li><p><span>并行编程：threa_local声明变量的生命周期和线程一致</span></p></li><li><p><span>atomic：原子操作，防止多线程拆解步骤产生错误</span></p></li></ol><h2 id='源码到可执行文件的过程'><span>源码到可执行文件的过程</span></h2><p><img src="知识点.assets/21628554d1dc4aebb4d0432f5195db42.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><ol start='' ><li><p><span>预处理阶段：对源代码文件中文件包含关系（</span><strong><span>头文件</span></strong><span>）、预编译语句（</span><strong><span>宏定义</span></strong><span>）进行分析和替换，生成预编译文件。主要处理源代码文件中的以“#”开头的</span><strong><span>预编译指令</span></strong><span>。删除注释。</span></p></li><li><p><span>编译阶段：将预处理之后的代码转换成特定的汇编代码，主要包括词法分析、语法分析、语义分析、优化代码等操作</span></p><ol start='' ><li><p><span>C++编译器常见的优化行为</span></p><ol start='' ><li><span>常量替换</span></li><li><span>无用代码消除</span></li><li><span>表达式预计算</span></li><li><span>返回值可能为了避免拷贝，优化成引用</span></li></ol></li></ol></li><li><p><span>汇编阶段：将编译阶段生成的汇编文件转化成</span><strong><span>机器码</span></strong><span>，生成可重定位目标文件</span></p></li><li><p><span>链接阶段：将多个目标文件及所需要的库连接成最终的可执行目标文件</span></p><ol start='' ><li><span>静态链接：由链接器在链接时将库的内容加入到可执行程序中，将一个或多个库或目标文件（先前由编译器或汇编器生成）链接到一块生成可执行程序。</span></li><li><span>动态链接：共享库动态链接，可</span><strong><span>减小可执行文件的大小</span></strong><span>，且</span><strong><span>不需要多份拷贝</span></strong><span>。在链接后动态库仍然与可执行文件分离，直到运行时才动态加载。</span></li></ol></li></ol><h2 id='oop面向对象'><span>OOP面向对象</span></h2><ol start='' ><li><p><span>核心思想：</span><strong><span>封装，继承，多态.</span></strong></p><ul><li><p><span>封装 </span></p><ul><li><span>封装是面向对象方法的重要原则，就是把对象的属性和操作（或服务）结合为一个独立的整体，并尽可能</span><strong><span>隐藏对象的内部实现细节</span></strong><span> </span></li><li><span>将类的某些信息隐藏在类的内部，不允许外部程序进行直接的访问调用 </span></li><li><span>通过该类提供的方法实现对隐藏信息的操作和访问 </span></li><li><span>隐藏对象的信息 </span></li><li><span>留出访问的</span><strong><span>对外接口</span></strong><span> </span></li></ul></li><li><p><span>继承 </span></p><ul><li><p><span>继承就是子类继承父类的特征和行为，使得子类对象具有父类的实例域和方法，或子类从父类继承方法，使得子类具有父类相同的行为。</span></p></li><li><p><span>子类可以拥有父类的非私有属性和方法 </span></p></li><li><p><span>子类可以拥有自己的属性和方法 </span></p></li><li><p><span>子类可以重写父类的方法 </span></p></li><li><p><span>可以</span><strong><span>提高代码复用性</span></strong><span> </span></p></li><li><p><span>构造先父后子，析构先子后父：若不显式调用父类某个构造函数，则自动调用默认构造函数</span></p></li><li><p><span>构造函数，析构函数，赋值运算符不能继承</span></p></li><li><p><span>父类可直接指向或引用子类对象，但只能使用子类中的父类方法</span></p></li><li><p><span>默认继承是private</span></p></li><li><p><span>子类调用父类方法</span></p><ul><li><span>声明一个调用父类方法的接口</span></li><li><span>using父类方法，只适用于继承关系</span></li></ul></li><li><p><span>多重继承：使用虚基类</span></p><ul><li><span>不使用虚基类需要很多限定符来调用函数</span></li><li><span>保证派生类中只有一个相同基类</span></li><li><span>子类构造时有多条路可以到达基类，需要显式完成初始化列表的父类构造</span></li></ul></li></ul></li><li><p><span>多态 </span></p><ul><li><span>多态是同一个行为具有不同表现形式或形态的能力 </span></li><li><span>消除类型之间的耦合关系，实现低耦合 </span></li><li><span>灵活性、可扩充性、可替换性 </span></li><li><span>体现形式：继承、父类引用指向子类、重写</span></li></ul></li></ul></li><li><p><span>三个主要目标：</span><strong><span>重用性、灵活性和扩展性</span></strong><span>。</span></p></li></ol><h2 id='new和malloc'><span>new和malloc</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>new</span></th><th><span>malloc</span></th></tr></thead><tbody><tr><td><span>申请的内存所在位置</span></td><td><strong><span>自由存储区</span></strong></td><td><strong><span>堆</span></strong></td></tr><tr><td><span>返回类型安全性</span></td><td><span>返回对象指针，安全</span></td><td><span>返回void*，需要强制转换，不安全</span></td></tr><tr><td><span>内存分配失败时的返回值</span></td><td><span>抛出bad_alloc异常</span></td><td><span>返回NULL</span></td></tr><tr><td><span>指定内存大小</span></td><td><span>根据类型自动计算</span></td><td><span>需要显式表示</span></td></tr><tr><td><span>创建对象</span></td><td><span>1.operator new分配内存 ；2.调用构造函数；3.返回对象指针</span></td><td><span>malloc分配内存，不调用构造函数</span></td></tr><tr><td><span>删除对象</span></td><td><span>1.调用析构函数；2.operator delete释放内存</span></td><td><span>free释放内存，不调用析构函数</span></td></tr><tr><td><span>对数组的处理</span></td><td><span>A * ptr = new A[10];delete [] ptr;</span></td><td><span>int * ptr = (int *) malloc( sizeof(int) );需要用户计算数组的大小后进行内存分配</span></td></tr><tr><td><span>相互调用</span></td><td><span>operator new可包含malloc；operator delete可包含free</span></td><td><span>反之不可</span></td></tr><tr><td><span>重载</span></td><td><span>可以</span></td><td><span>不可以</span></td></tr><tr><td><span>内存不够扩充内存</span></td><td><span>不能直接扩充</span></td><td><span>realloc可用来扩充</span></td></tr><tr><td><span>定位new</span></td><td><span>object *p = new(location)object;</span></td><td>&nbsp;</td></tr></tbody></table></figure><h2 id='多重继承'><span>多重继承</span></h2><ol start='' ><li><span>基类构造函数的调用顺序和和它们在派生类构造函数中出现的顺序无关，而是和</span><strong><span>声明派生类时基类出现的顺序相同</span></strong><span>。</span></li><li><span>多继承形式下析构函数的执行顺序和构造函数的执行顺序</span><strong><span>相反</span></strong><span>。</span></li><li><strong><span>命名冲突</span></strong><span>：当两个或多个基类中有同名的成员时，如果直接访问该成员，就会产生命名冲突，编译器不知道使用哪个基类的成员。这个时候需要在成员名字前面加上</span><strong><span>类名和域解析符</span><code>::</code></strong><span>，以显式地指明到底使用哪个类的成员，消除二义性。</span></li><li><span>虚继承：处理</span><strong><span>菱形继承</span></strong><span>问题，防止构造多个相同的基类</span></li></ol><h2 id='模板'><span>模板</span></h2><ol start='' ><li><p><span>目的：函数的重用，将类型参数化，实现编译的动态化，避免重复书写代码</span></p></li><li><p><span>分类：函数模板，类模板</span></p></li><li><p><span>模板参数</span></p><ol start='' ><li><span>默认类型的模板参数</span><code>template&lt;typename T2 = int&gt;</code></li><li><span>多类型参数</span><code>template&lt;typename T1 , typename T2&gt;</code></li><li><span>非类型参数</span><code>template&lt;typename , int x&gt;</code></li></ol></li><li><p><span>特化：</span></p><ol start='' ><li><span>类模板有全特化，偏特化；函数模板只有全特化</span></li><li><span>编译器优先考虑特化版本</span></li><li><span>模板函数不能是虚函数</span></li></ol></li><li><p><span>优先级：非模板函数&gt;全化&gt;&gt;偏特化&gt;常规模板</span></p></li><li><p><span>模板别名：using</span></p></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>3</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">template</span><span class="cm-operator">&lt;</span><span class="cm-keyword">typename</span> <span class="cm-variable">T</span><span class="cm-operator">&gt;</span> </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">using</span> <span class="cm-variable">arr1</span> <span class="cm-operator">=</span> <span class="cm-variable">std::array</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span>,<span class="cm-number">12</span><span class="cm-operator">&gt;</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">arr1</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">double</span><span class="cm-operator">&gt;</span> <span class="cm-variable">a1</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 72px;"></div><div class="CodeMirror-gutters" style="height: 72px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><p>&nbsp;</p><h2 id='野指针和悬空指针'><span>野指针和悬空指针</span></h2><ol start='' ><li><span>野指针就是</span><strong><span>没有被初始化</span></strong><span>过的指针</span></li><li><span>悬空指针是指针</span><strong><span>最初指向的内存已经被释放</span></strong><span>了的一种指针。</span></li><li><span>危害：无论是野指针还是悬空指针，都是</span><strong><span>指向无效内存区域(这里的无效指的是&quot;不安全不可控&quot;)的指针</span></strong><span>。 访问&quot;不安全可控&quot;(invalid)的内存区域将导致&quot;Undefined Behavior&quot;。</span></li><li><span>解决方法：智能指针</span></li></ol><h2 id='c不能被继承的类'><span>c++不能被继承的类</span></h2><ul><li><p><strong><span>private: 构造函数，析构函数</span></strong><span> （两种方法）</span></p><ul><li><span>static * 保证自身可构建</span></li><li><span>其友元类（可访问A的private），且虚继承自A类</span></li></ul></li><li><p><span>c++11 ，在类后面加上 final 即可</span></p></li></ul><h2 id='私有析构'><span>私有析构</span></h2><ul><li><strong><span>只能在堆上构造对象</span></strong><span>，可以自由控制生命周期。当在栈上生成对象时，对象会自动析构，也就说析构函数必须可以访问。而堆上生成对象，由于析构时机由程序员控制，所以不一定需要析构函数。</span></li><li><span>可以用一个函数封装析构函数，手动释放</span></li></ul><h2 id='右值-8点'><span>右值 8点</span></h2><ol start='' ><li><p><span>描述：没有名字，不能取地址的对象；包括纯右值，将亡值</span></p></li><li><p><span>右值引用：</span></p><ol start='' ><li><span>延长无名变量的生命期</span></li><li><span>右值引用不能绑定到任何左值，除了常量左值引用</span></li><li><span>右值引用本身是个左值</span></li></ol></li><li><p><span>右值引用只能用右值初始化,一旦初始化一个右值引用变量，该变量就成为了一个左值，可以被赋值</span></p></li><li><p><span>移动构造函数与移动赋值操作符的实现，相比复制构造函数与复制赋值操作符，前者没有再分配内存，而是实现</span><strong><span>内存所有权转移</span></strong><span>。用移动而不是复制来</span><strong><span>避免无必要的资源浪费，从而提升程序的运行效率</span></strong><span>。</span></p></li><li><p><strong><span>移动语义</span></strong></p><ol start='' ><li><span>实现：依靠移动构造函数和移动赋值操作符,传入的必须是右值，但是有时候你需要将一个左值也进行移动语义（因为你已经知道这个左值后面不再使用），</span><code>std::move</code><span>可以将左值转换成右值，底层封装了static_cast</span></li><li><span>RVO优化：直接将a的内存转移给b，即执行移动语义</span></li></ol></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="CPP"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">A</span> <span class="cm-def">retVal</span>(){<span class="cm-variable">A</span> <span class="cm-variable">a</span> ; <span class="cm-keyword">return</span> <span class="cm-variable">a</span>;}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">A</span> <span class="cm-variable">b</span> <span class="cm-operator">=</span> <span class="cm-variable">retVal</span>();</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div><div class="CodeMirror-gutters" style="height: 48px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><ol start='6' ><li><strong><span>完美转发</span></strong><span>是创建一个函数，该函数可以接收任意类型的参数（不论传入的参数是左值还是右值，一旦传入之后，一定是左值），然后将这些参数按原来的类型转发给目标函数，完美转发的实现要依靠</span><code>std::forward</code><span>函数，</span><strong><span>确保传入的右值依然转发为右值，而对左值传入不做处理</span></strong><span>。</span></li><li><span>引用合并：</span><strong><span>左值优先</span></strong><span>，解决双重引用问题</span></li><li><span>通用引用：</span><strong><span>必须满足</span><code>T&amp;&amp;</code><span>这种形式</span></strong></li></ol><h2 id='浅拷贝和深拷贝'><span>浅拷贝和深拷贝</span></h2><p><span>浅拷贝 (shallow copy) 只是对指针的拷贝, 拷贝够两个指针指向同一个内存空间.</span>
<span>浅拷贝可能对同一块内存释放执行2次及2次以上的释放会造成内存泄露或者是程序crash！用深拷贝解决：</span>
<span>深拷贝 (deep copy) 不但对指针进行拷贝, 而且对指针指向的内容进行拷贝. 经过深拷贝后的指针是指向两个不同地址的指针</span>
<span>深拷贝格式：</span><code>Function(const Function &amp;a){...}</code></p><blockquote><p><span>深拷贝调用时机：1. 当用类的一个对象初始化该类的另一个对象时 </span><code>Function A(1,2); FunctionB(A);</code>
<span>2.函数的形参为类的对象时,当调用函数时,拷贝构造函数被调用</span><code>Func1 A(1,2); Func2(A);</code>
<span>3.函数的返回值是类的对象,返回函数值时,调用拷贝构造函数</span>
<span>4.需要产生一个临时类对象时</span></p></blockquote><p><img src="知识点.assets/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAcXFfNDkzMjM1MzM=,size_17,color_FFFFFF,t_70,g_se,x_16.png" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><h2 id='c语言和c'><span>C语言和C++</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>C语言</span></th><th><span>C++</span></th></tr></thead><tbody><tr><td><span>面向</span></td><td><span>面向过程</span></td><td><span>面向对象，支持多态、封装和继承。</span></td></tr><tr><td><span>考虑问题</span></td><td><span>根据input获得output</span></td><td><span>构建一个对象模型</span></td></tr><tr><td><span>关系</span></td><td>&nbsp;</td><td><span>是c的加强版</span><br><span>增加了面向对象机制</span><br><span>使用extern C来向下兼容C的代码：C不支持函数重载，函数名编译后不带形参</span></td></tr><tr><td><span>重载</span></td><td><span>不支持函数和运算符重载</span></td><td><span>支持函数和运算符重载</span></td></tr><tr><td>&nbsp;</td><td><span>不允许在结构内部定义函数</span><br><span>没有命名空间功能</span><br><span>不支持引用变量</span><br><span>不支持虚函数和友元函数</span></td><td><span>允许在结构内部定义函数</span><br><span>使用 NAMESPACE 来避免名称冲突</span><br><span>支持引用变量</span><br><span>支持虚拟和友元函数</span></td></tr><tr><td><span>动态分配</span></td><td><span>malloc() free()</span></td><td><span>new() delete()</span></td></tr></tbody></table></figure><h2 id='classstruct和union'><span>class，struct和union</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>class</span></th><th><span>struct</span></th><th><span>union</span></th></tr></thead><tbody><tr><td><span>目的</span></td><td><span>面向对象结构</span></td><td><span>兼容C的结构</span><br><span>在C的基础上做了</span><strong><span>扩充</span></strong><span>，可以拥有函数</span></td><td><span>节省地址空间的结构</span></td></tr><tr><td><span>默认访问/继承类型</span></td><td><span>private</span></td><td><span>public</span></td><td>&nbsp;</td></tr><tr><td><span>用法</span></td><td><span>可用于定义模板参数</span></td><td><span>常用作数据的集合</span></td><td><span>多变量共享</span><strong><span>最大变量空间</span></strong><span>，用在空间敏感的地方</span><br><span>匿名共用体的变量被认为是地址相同的多个变量</span></td></tr></tbody></table></figure><h2 id='lambda表达式'><span>lambda表达式</span></h2><ol start='' ><li><p><span>匿名表达式：</span><code>[捕捉列表](参数列表)mutable-&gt;返回值{函数体};</code></p><ol start='' ><li><span>捕捉方式：捕获一个它所在函数中的局部变量</span><img src="知识点.assets/image-20220406143536944.png" referrerpolicy="no-referrer" alt="image-20220406143536944"></li><li><strong><span>默认情况下，lambda函数总是一个const函数</span></strong><span>，mutable可以取消其常量性。使用该修饰符时，参数列表不可省略。</span></li><li><span>可以忽略参数列表和返回类型，但必须永远包含捕获列表和函数体</span></li></ol></li><li><p><span>底层实现原理：实际当我们编写了一个lambda表达式之后，编译器会把我们写的lambda表达式翻译成一个类，并重载 operator()来实现。</span></p></li><li><p><span>好处：</span></p><ol start='' ><li><span>轻便简洁，不需要想名字</span></li><li><span>距离：定义和使用在同一个地方进行，普通函数的定义可能很远</span></li><li><span>函数指针阻止内联，lambda不会阻止</span></li><li><span>可访问作用域内的任何动态变量</span></li><li><span>可以嵌套受用</span></li></ol></li></ol><h2 id='内联函数'><span>内联函数</span></h2><ol start='' ><li><p><span>inline声明是对编译器的一种</span><strong><span>建议</span></strong><span>，在类体内定义的函数会被编译器自动声明为内联函数。</span></p></li><li><p><span>优点：</span></p><ol start='' ><li><span>它通过避免函数调用所带来的开销来</span><strong><span>提高你程序的运行速度</span></strong><span>。</span></li><li><span>当函数调用发生时，它</span><strong><span>节省了变量弹栈、压栈的开销</span></strong><span>。</span></li><li><span>它避免了一个函数执行完返回原现场的开销。</span></li><li><span>通过将函数声明为内联，你可以</span><strong><span>把函数定义放在头文件内</span></strong><span>。</span></li></ol></li><li><p><span>缺点：</span></p><ol start='' ><li><span>因为代码的扩展，内联函数</span><strong><span>增大了可执行程序的体积</span></strong><span>。</span></li><li><span>C++内联函数的展开是中编译阶段，这就意味着如果你的</span><strong><span>内联函数发生了改动，那么就需要重新编译代码</span></strong><span>。</span></li><li><span>当你把内联函数放在头文件中时，它将会使你的头文件信息变多</span></li></ol></li><li><p><span>适用范围：</span></p><ol start='' ><li><span>函数尽量的短(&lt;10行)</span></li><li><span>函数简单(不能有复杂语句while,switch等)</span></li><li><span>内联函数不能递归调用自己</span></li><li><span>虚函数不能内联</span></li></ol></li></ol><h2 id='指针和引用'><span>指针和引用</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>指针</span></th><th><span>引用</span></th></tr></thead><tbody><tr><td><span>定义</span></td><td><span>存地址的变量</span></td><td><span>对象的别名</span></td></tr><tr><td><span>用法</span></td><td><span>int *p=&amp;a;</span></td><td><span>int &amp;n=a;</span></td></tr><tr><td><span>级数</span></td><td><span>可以多级 int **p;</span></td><td><span>只能一级</span></td></tr><tr><td><span>初始化</span></td><td><span>可以不初始化</span></td><td><span>必须初始化</span></td></tr><tr><td><span>NULL</span></td><td><span>可以指向NULL</span></td><td><span>不可以为NULL</span></td></tr><tr><td><span>可变性</span></td><td><span>初始化后可指向其他变量</span></td><td><span>初始化后不可再变</span></td></tr><tr><td><span>sizeof()</span></td><td><span>指针的大小，64位是8字节</span></td><td><span>对象的大小</span></td></tr><tr><td><span>自增运算</span></td><td><span>指向后面的内存</span></td><td><span>原变量加一</span></td></tr><tr><td><span>作为函数参数</span></td><td><span>需判断是否为空，可改变原始值</span></td><td><span>不需判断是否为空，可改变原始值</span></td></tr></tbody></table></figure><p><strong><span>引用也是一种指针，那为什么需要引用？</span></strong>
<span>指针的使用经常犯得错：1，操作空指针，2，操作野指针，3，不知不觉改变了指针的值，而后还以为该指针正常。</span>
<span>引用区别于指针的特性是 ：1，不存在空引用（保证不操作空指针），2，必须初始化（保证不是野指针），3，一个引用永远指向他初始化的那个对象（保证指针值不变）。4.为了支持运算符重载</span></p><h2 id='内存管理'><span>内存管理</span></h2><p><img src="知识点.assets/image-20220406201400131.png" referrerpolicy="no-referrer" alt="image-20220406201400131"></p><ol start='' ><li><span>代码区</span>
<span>	</span><span>加载的是可执行文件代码段，这块内存是不</span><strong><span>可以在运行期间修改的</span></strong><span>。</span></li><li><span>已初始化数据区(全局初始化数据区/静态数据区)</span>
<span>	</span><span>加载的是可执行文件数据段，存储于数据段（全局初始化，静态初始化数据，文字常量(只读)）的数据的生存周期为整个程序运行过程。</span></li><li><span>未初始化数据区</span>
<span>	</span><span>加载的是可执行文件BSS 段，存储于数据段的数据（全局未初始化，静态未初始化数据）的生存周期为整个程序运行过程。</span></li><li><span>堆区</span>
<span>	</span><span>堆是一个大容器，用于</span><strong><span>动态内存分配</span></strong><span>。一般由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收。</span></li><li><span>栈区</span>
<span>	</span><span>栈是一种先进后出的内存结构，由编译器</span><strong><span>自动分配释放</span></strong><span>，存放函数的参数值、返回值、局部变量等。在程序运行过程中实时加载和释放，因此，局部变量的生存周期为申请到释放该段栈空间。</span></li></ol><h2 id='大端小端'><span>大端&amp;小端</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>大端</span></th><th><span>小端</span></th></tr></thead><tbody><tr><td><span>概念</span></td><td><span>低地址存储数据的高地址</span></td><td><span>低地址存储数据的低字节</span></td></tr><tr><td><span>优点</span></td><td><span>便于数据之间的类型转换</span></td><td><span>便于数据类型的符号判断</span></td></tr><tr><td><span>用途</span></td><td><span>常见于本地主机上</span></td><td><span>常见于网络通信上</span></td></tr></tbody></table></figure><h2 id='继承方式'><span>继承方式</span></h2><p><img src="知识点.assets/image-20220406222110977.png" referrerpolicy="no-referrer" alt="image-20220406222110977"></p><h2 id='类的大小'><span>类的大小</span></h2><ol start='' ><li><p><span>空class 1字节</span></p></li><li><p><span>内存对齐：</span></p><ol start='' ><li><span>平台原因：多平台运行，某些硬件平台只能在某些地址处取某些特定类型的数据，否则抛出硬件异常</span></li><li><span>硬件原因：CPU访问速度大大提升</span></li><li><span>性能原因：访问未对齐的内存，处理器需要作两次内存访问，而对齐的内存访问仅需要一次访问。</span></li><li><span>变量的起始地址能够被其对齐值整除，结构体变量的对齐值为</span><strong><span>最宽</span></strong><span>的成员大小。将能对齐的数据放在一起，不能对齐的数据凑一凑可以节省空间。</span></li><li><span>对齐方法：</span><code>#pragma pack(n)</code><span> n是对齐模数</span></li></ol></li><li><p><span>继承：先加上父类的字节总数</span></p></li><li><p><code>static</code><span>成员：非实例独占，不计入统计</span></p></li><li><p><span>含有虚函数需要加上虚表指针的大小，其他成员函数不归入 sizeof 统计</span></p></li></ol><h2 id='操作符重载'><span>操作符重载</span></h2><ol start='' ><li><p><span>成员函数形式,参数列表中的</span><strong><span>参数比运算对象个数少一</span></strong><span>，this指针隐式地指向左侧的运算对象。</span></p></li><li><p><span>友元函数形式，参数列表中的参数和运算对象</span><strong><span>个数相等</span></strong></p></li><li><p><span>前置自增 ：（返回 &amp;）</span></p><ol start='' ><li><span>成员函数形式</span><code>A&amp; operator++();</code></li><li><span>友元函数形式</span><code>friend A&amp; operator+(A&amp;t);</code></li></ol></li><li><p><span>后置自增：（参数多一个 int）</span></p><ol start='' ><li><span>成员函数形式</span><code>A operator+(int);</code></li><li><span>友元函数形式 </span><code>friend A operator+(int,A&amp;t);</code></li></ol></li><li><p><span>&amp;&amp;和||不要重载</span></p></li><li><p><span>复合运算符用</span><strong><span>引用</span></strong><span> ：+= -= *= /=</span></p></li><li><p><code>=  ()  []  -&gt;</code><span>  只能通过成员函数重载</span></p></li></ol><h2 id='函数调用过程'><span>函数调用过程</span></h2><ol start='' ><li><span>函数参数由右到左压栈</span></li><li><span>函数栈帧开辟</span></li><li><span>重设栈顶，栈底</span></li><li><span>保存函数返回值</span></li><li><span>函数栈帧回退</span></li></ol><h2 id='池化技术'><span>池化技术</span></h2><ol start='' ><li><span>池化技术就是：提前保存大量的资源，以备不时之需以及重复使用。</span></li><li><span>对象池</span>
<span>当创建对象时，对象池将对象放入池管理的某种内存连续的数据结构中（数组或者栈等）。当不需要对象时，对象池并不销毁对象，而是将对象回收到池中，下次需要的时候再次从池中拿出来。</span>
<span>对象储存在内存连续的数据结构中，所以解决了</span><strong><span>内存碎片</span></strong><span>的问题。</span>
<span>对象每次用完以后就放回池中循环利用而不是再次创建和销毁，这样就解决了</span><strong><span>频繁的内存分配和销毁</span></strong><span>的问题。</span></li><li><span>线程池：先启动若干数量的线程，并让这些线程都处于睡眠状态，当需要一个开辟一个线程去做具体的工作时，就会唤醒线程池中的某一个睡眠线程，让它去做具体工作，当工作完成后，线程又处于睡眠状态，而不是将线程销毁。</span></li><li><span>进程池：同线程池</span></li><li><span>内存池：内存池是指程序预先从操作系统申请一块足够大内存，此后，当程序中需要申请内存的时候，不是直接向操作系统申请，而是直接从内存池中获取；同理，当程序释放内存的时候，并不真正将内存返回给操作系统，而是返回内存池。当程序退出(或者特定时间)时，内存池才将之前申请的内存真正释放。</span></li></ol><h2 id='位运算'><span>位运算</span></h2><ol start='' ><li><span>判断是不是2的整数幂：</span><code>n&amp;(n-1)</code></li><li><span>lowbit，获得低位为1的数位：</span><code>n&amp;(-n)</code></li><li><span>能否被二整除：</span><code>(n&amp;1)==0</code></li><li><span>清零：</span><code>n&amp;0</code></li><li><span>和0异或保留原值，和1异或取反</span></li><li><span>交换两个数 </span><code>a = a ^ b ; b = b ^ a ; a = a ^ b ;</code></li><li><span>左移 1 相当于 *2 ，右移 1 相当于 /2</span></li><li><img src="知识点.assets/image-20220407182707994.png" referrerpolicy="no-referrer" alt="image-20220407182707994"></li></ol><h2 id='extern'><span>extern</span></h2><ol start='' ><li><span>表示该变量不在这里定义，可能在后面后者其他文件中，让编译器去找找</span></li><li><span>如果给extern变量初始化，就成了定义</span></li><li><span>单定义原则，只能在一个文件中定义</span></li><li><span>函数体内部不能使用extern</span></li></ol><h2 id='类型推导'><span>类型推导</span></h2><ol start='' ><li><p><code>decltype(a);</code></p><ol start='' ><li><span>将变量类型声明为表达式指定类型</span></li><li><span>用于解决模板函数，和后置返回类型的推导</span></li></ol></li><li><p><code>auto i = a;</code></p><ol start='' ><li><span>将变量类型声明为表达式指定类型</span></li><li><span>用于解决模板函数，和后置返回类型的推导</span></li></ol></li><li><p><span>返回类型后置</span></p></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>2</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">auto</span> <span class="cm-variable">func</span>(<span class="cm-variable">T1</span> <span class="cm-variable">x</span>,<span class="cm-variable">T2</span> <span class="cm-variable">y</span>) <span class="cm-operator">-&gt;</span> <span class="cm-keyword">decltype</span>(<span class="cm-variable">x</span><span class="cm-operator">*</span><span class="cm-variable">y</span>) &nbsp; &nbsp; </span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> {<span class="cm-keyword">return</span> <span class="cm-variable">x</span><span class="cm-operator">*</span><span class="cm-variable">y</span>;}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 48px;"></div><div class="CodeMirror-gutters" style="height: 48px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><ol start='4' ><li><code>typeid</code><span>：返回值是一个type_info类</span></li></ol><h2 id='函数指针'><span>函数指针</span></h2><ol start='' ><li><p><span>格式：</span><code>int (*p)(形参);</code></p></li><li><p><span>用来处理委托delegate</span></p></li><li><p><span>最好用typedef防止混淆</span></p></li><li><p><span>成员函数指针</span></p><ol start='' ><li><span>用来指向成员函数的函数指针</span></li><li><span>::*  用于指针的范围声明</span></li><li><span>-&gt;*  .*  用于调用函数指针指向的函数</span></li><li><span>不可以用一个非静态成员函数指针指向一个静态成员函数，必须使用普通函数指针</span></li></ol></li></ol><h2 id='链接性'><span>链接性</span></h2><ol start='' ><li><p><span>变量</span></p><ol start='' ><li><span>全局变量：外部链接性，可在其他文件中访问</span></li><li><span>静态全局变量：内部链接性，仅可在当前文件中访问</span></li><li><span>静态局部变量：无链接性，仅可在当前代码块访问</span></li><li><span>局部变量：自动变量，当前代码快结束自动释放内存</span></li><li><span>register局部变量：寄存器变量，仅在当前代码块访问</span></li></ol></li><li><p><span>const默认为内部链接性，</span><code>extern const</code><span>为外部链接性</span></p></li><li><p><span>函数默认为外部链接性，</span><code>static function</code><span>为内部链接性</span></p></li></ol><h2 id='this指针'><span>this指针</span></h2><ol start='' ><li><span>定义：this指针是C++类成员函数的一个</span><strong><span>隐含参数</span></strong><span>，当对象调用该成员函数的时候，编译器会将该对象的地址作为参数传入，通过this指针来对不同类进行操作，进而实现各个功能。</span></li><li><span>this指针本质上其实是一个成员函数的</span><strong><span>形参</span></strong><span>，是对象调用成员函数时，</span><strong><span>将对象地址作为实参传递给this形参</span></strong><span>。所以</span><strong><span>对象中不存储this指针</span></strong><span>。</span></li><li><span>this指针参数则是存放在寄存器中.</span></li><li><span>this指针可以为空，但有条件，当我们要进行的操作</span><strong><span>不需要this指针去指向某个对象</span></strong><span>(例如仅仅是打印一个东西)的时候就可以令它为空</span></li></ol><h1 id='操作系统'><span>操作系统</span></h1><h2 id='操作系统的特性'><span>操作系统的特性</span></h2><p><span>并发：同一段时间内多个程序执行</span>
<span>共享：系统中的资源可以被内存中多个并发执行的进线程共同使用</span>
<span>虚拟：通过时分复用以及空分复用（如虚拟内存），把一个物理实体虚拟为多个</span>
<span>异步：系统中的进程是以走走停停的方式执行的，且以一种不可预知的速度推进</span></p><h2 id='死锁-3点'><span>死锁 3点</span></h2><ol start='' ><li><p><span>定义：应用以</span><strong><span>独占</span></strong><span>方式访问资源，当操作系统</span><strong><span>多进程并发</span></strong><span>时，可能多个进程互相</span><strong><span>等待</span></strong><span>彼此的资源，从而</span><strong><span>永远阻塞</span></strong><span>的状态，称为死锁</span></p></li><li><p><span>条件</span></p><ol start='' ><li><strong><span>互斥</span></strong><span>，独占资源</span></li><li><strong><span>占有和等待</span></strong><span>，进程得不到想要的资源等待时，不会释放已有的资源</span></li><li><strong><span>不可抢占</span></strong><span>，资源只能主动释放</span></li><li><strong><span>环路</span></strong><span>，存在循环等待链</span></li></ol></li><li><p><span>死锁解决方法</span></p><ol start='' ><li><p><span>鸵鸟算法：把头埋到沙子里，假装没发生问题，适用于死锁影响小，发生概率低的情况</span></p></li><li><p><span>死锁防止：破坏必要条件</span></p><ol start='' ><li><p><span>破坏互斥条件：允许资源同时访问</span></p></li><li><p><span>破坏占有等待条件：</span></p><ol start='' ><li><span>预分配资源，资源利用率降低</span></li><li><span>一次获取全部所需资源，得不到需要的资源就放弃已占有的资源</span></li></ol></li><li><p><span>破坏不剥夺条件：申请资源时，主动释放已有资源，重新分配；有资源则分配，否则释放全部已有资源，等资源满足后唤醒重新申请</span></p></li><li><p><span>破坏循环等待条件：资源编号；资源分层</span></p></li></ol></li><li><p><span>死锁避免</span></p><ol start='' ><li><span>安全状态：如果没有死锁发生，并且即使所有进程突然请求对资源的最大需求，也仍然存在某种调度次序能够使得每一个进程运行完毕，则称该状态是安全的</span></li><li><span>银行家算法：如果请求会使进程进入不安状态，则拒绝请求</span></li></ol></li><li><p><span>死锁检测：</span></p><ol start='' ><li><span>遍历进程并作标记，如果遍历到已经标记的节点，说明存在环，可能有死锁</span></li><li><span>任何没有被标记的进程都是死锁进程</span></li></ol></li><li><p><span>死锁恢复：</span></p><ol start='' ><li><span>资源剥夺：剥夺死锁进程的资源，直到死锁解除</span></li><li><span>进程回退：根据系统保存的检查点让所有的进程回退，直到足以解除死锁。</span></li><li><span>进程撤销：撤销陷入死锁的所有进程，解除死锁，继续运行；逐个撤销陷入死锁的进程，回收其资源并重新分配，直至死锁解除</span></li><li><span>系统重启</span></li></ol></li></ol></li></ol><h2 id='进程线程和协程'><span>进程，线程和协程</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>进程</span></th><th><span>线程</span></th><th><span>协程</span></th></tr></thead><tbody><tr><td><span>概念</span></td><td><span>程序在执行过程中</span><strong><span>分配和管理资源的基本单位</span></strong></td><td><span>处理器</span><strong><span>调度的基本单位</span></strong><span>，是进程的一个执行单元，比进程更小的独立运行的基本单位。线程也被称为轻量级进程。</span></td><td><span>一个线程也可以拥有多个协程。其执行过程更类似于用户态线程，</span><strong><span>协程是为并发而生的，适应IO密集场景</span></strong></td></tr><tr><td><span>地址空间</span></td><td><span>进程之间是</span><strong><span>独立</span></strong><span>的地址空间</span></td><td><span>线程</span><strong><span>共享</span></strong><span>本进程的地址空间</span></td><td>&nbsp;</td></tr><tr><td><span>资源</span></td><td><span>进程之间的资源是独立的，能很好的进行</span><strong><span>资源管理和保护。</span></strong></td><td><span>线程</span><strong><span>共享</span></strong><span>本进程的资源如内存、I/O、cpu等，不利于资源的管理和保护</span></td><td>&nbsp;</td></tr><tr><td><span>健壮性</span></td><td><span>一个进程崩溃后，在保护模式下不会对其他进程产生影响</span></td><td><span>一个线程崩溃整个进程都死掉。</span></td><td>&nbsp;</td></tr><tr><td><span>可并发性</span></td><td><span>可并发</span></td><td><span>可并发</span><br><span>  切换有性能消耗，切换少的效率要高 </span><br><span>单核CPU有利于</span><strong><span>IO</span></strong><span>相关操作，在DMA读取磁盘数据时，CPU是空闲的，可以执行其他线程的任务 </span><br><span>为了防止一个任务一直占据CPU。当任务1时间特别长，则一直使用CPU的话，那么其他任务就会被无法执行，为了防止这现象出现，任务之间的切换很有必要。</span></td><td><span>同步机制</span><br><span>协作式，同一时只有一个协程拥有运行权，相当于单线程的能力</span></td></tr><tr><td><span>状态</span></td><td><span>运行态：占有cpu </span><br><span>就绪态：可运行，等待cpu </span><br><span>阻塞态：暂停运行，等待触发事件发生 </span><br><span>挂起态：进程阻塞之后，会占用内存，将进程置换到硬盘里，称为挂起 </span><br><span>阻塞挂起态：在外存，等待事件 </span><br><span>就绪挂起态：在外存，进入内存马上能运行</span><br><span>见右图</span></td><td><img src="知识点.assets/image-20220407200236889.png" referrerpolicy="no-referrer" alt="image-20220407200236889"></td><td>&nbsp;</td></tr><tr><td><span>地址空间</span></td><td><span>低地址到高地址依次为代码区，全局区（已初始化全局区data，未初始化全局区bss），堆区，共享区，栈区，命令行参数&amp;环境变量，内核区</span></td><td><span>多线程共享同一进程空间</span></td><td>&nbsp;</td></tr><tr><td><span>切换</span></td><td><span>每个进程都有自己的虚拟地址空间</span><br><span>将虚拟地址转换为物理地址需要查找页表，这个过程很慢</span><br><span>一般使用TLB缓存常用地址映射来加速查找</span><br><span>每次进程切换都涉及页表的切换，TLB也会失效，导致命中率下降</span><br><span>表现出来就是程序运行缓慢</span></td><td><span>涉及到频繁的切换时，使用线程要好于进程，如果要求</span><strong><span>同时进行并且又要共享</span></strong><span>某些变量的并发操作，只能用线程不能用进程。</span><br><span>线程切换不会切换虚拟内存，不会导致快表失效，故线程切换要比较进程切换快</span></td><td><span>切换由</span><strong><span>自己控制</span></strong><span>，由当前协程切换到其他协程由当前协程来控制。</span></td></tr><tr><td><span>使用范围</span></td><td><strong><span>对资源的管理和保护要求高</span></strong><span>，不限制开销和效率时，使用多进程。</span></td><td><span>要求</span><strong><span>效率高，频繁切换</span></strong><span>时，资源的保护管理要求不是很高时，使用多线程。</span></td><td>&nbsp;</td></tr><tr><td><span>通信方式</span></td><td><span>管道：速度慢，容量小，半双工，数据无格式，需要提前规定多少字节是一个消息，只能父子进程之间通讯</span><br><span>有名管道：可非亲缘进程也能交换数据，有读写锁</span><br><span>信号：软件中断，异步通信，可导致中断，转而处理其他事件</span><br><span>消息队列：A将消息写入消息队列，B在需要的时候读取队列</span><br><span>信号量：不能传递复杂消息，只能用来同步。信号量&gt;0表示该资源可取用</span><br><strong><span>共享内存</span></strong><span>：可在共享内存写入和读取数据。能够很容易控制容量，速度快，但要保持同步，比如一个进程在写的时候，另一个进程要注意读写的问题</span><br><span>存储映射：磁盘文件和存储空间的一个缓冲区相映射，使用指针直接读取内存，无需拷贝</span><br><span>socket：跨主机进程通信</span></td><td><span>统一进程的不同线程共享同一内存区域，所以线程可以方便快速共享信息，只需将数据复制到</span><strong><span>共享变量</span></strong><span>中即可，要注意多线程同时修改一份信息</span><br><span>互斥锁，读写锁，条件变量</span><br><span>信号量，信号</span></td><td>&nbsp;</td></tr><tr><td><span>互斥和同步</span></td><td><span>管程：同一时间只有一个进程能使用管程的资源</span><br><span>信号量：  本质是一个计数器，记录公共资源还剩下的的访问机会； 信号量大于0时允许访问 ；pv原语是对信号量的操作，p使信号量减一，v使信号量加一</span><br><span>互斥锁，读写锁，条件变量</span></td><td><span>事件：通过通知操作的方式来保持线程的同步</span><br><span>信号量</span><br><span>互斥锁，</span><br><span>临界区：线程用来访问临界资源的那段程序称为临界区;一次只允许一个进程使用的资源称为临界资源</span></td><td>&nbsp;</td></tr><tr><td><span>调度</span></td><td><span>先来先服务：非抢占，公平，利长不利短</span><br><span>短作业优先：非抢占，长饿死</span><br><span>最高响应比优先：照顾短任务且长任务不饿死，有计算响应比的开销</span><br><span>时间片轮转：队列，CPU分给首个进程，用完时间片该进程放到队尾</span><br><span>优先级调度：低优先级饿死，可随时间推移增加优先级</span><br><span>多级队列：时间片+优先级，越靠前的队列优先级越高，越靠后的队列时间片越长</span></td><td>&nbsp;</td><td>&nbsp;</td></tr><tr><td><span>类型</span></td><td><span>守护进程：独立于控制终端在后台执行的进程，周期性完成某种任务 </span><br><span>僵尸进程：子进程退出，父进程运行，父进程未捕获子进程退出的信号的状态，占用资源。 父进程一般用wait/waitpid函数结束子进程</span></td><td><span>用户线程  ：用户空间实现，由基于用户态的线程管理 ，用户线程的创建种植同步调度都不由操作系统直接参与 </span><br><span>内核线程 ： 由操作系统管理调度，一般有操作系统事先创建内核线程集(类似线程池)，数量有限 占用内核资源，开销较大 </span><br><span>轻量级线程LWP  内核支持的用户线程， 每个LWP都要一个内核线程的支持（CPU资源的调度分配），实际上用户线程运行在LWP上</span></td><td>&nbsp;</td></tr><tr><td><span>PCB</span></td><td><span>进程控制块PCB：操作系统对进程感知的唯一标识 </span><br><span>包含的信息  ：进程描述信息：进程标识符，用户标识符等 </span><br><span>进程控制和管理信息：进程状态，进程优先级 </span><br><span>进程资源分配清单：虚拟内存地址空间信息，打开文件列表，IO设备信息等 </span><br><span>CPU相关信息：便于从断点恢复执行 PCB以链表形式管理：就绪队列，阻塞队列</span></td><td><span>线程和进程一样，都有自己的PCB</span></td><td>&nbsp;</td></tr><tr><td><span>问题</span></td><td><span>1. 读者写者问题:允许多个读者进程同时访问，但是不允许一个写者进程同其它任何一个进程（读者 或者写者）同时访问。</span><br><span>解决方法：读者优先算法，写者优先算法。读进程设置信号量计数，写进程设置互斥锁</span><br><span>2. 哲学家就餐问题：哲学家吃饭需要拿左右两只筷子，但是当每个人都拿了自己左边的筷子，就会陷入死循环，都吃不到饭。</span><br><span>解决方法：必须同时拿起左右两根筷子； 只有两个邻居没有进餐才能进餐；规定奇数号哲学家先拿起他左边的筷子，然后再去拿他右边的筷子，而偶数号的哲学家则相反</span></td><td><span>1. 可见性问题：</span><img src="知识点.assets/image-20220407200052766.png" referrerpolicy="no-referrer" alt="image-20220407200052766"><br><span>原子性问题：</span><img src="知识点.assets/image-20220407200112757.png" referrerpolicy="no-referrer" alt="image-20220407200112757"><br><span>有序性问题：编译器对指令执行顺序调整来优化执行性能导致的指令有序性在多线程情况下遭到破坏的情况。</span><br><span>final禁用对象初始化与赋值操作重排序，即确保新创建的对象在构造函数初始化完成后完成赋值给共享变量的操作</span><br><span>volatile修饰共享变量，确保编译后指令像源代码指定的那样，读变量操作在写变量操作之后，不受重排序影响</span></td><td>&nbsp;</td></tr></tbody></table></figure><p><a href='https://www.cnblogs.com/WPF-342201/p/11481635.html#:~:text=%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%98%AF%E6%8C%87%E5%A4%9A%E7%BA%BF%E7%A8%8B%E9%80%9A%E8%BF%87%E7%89%B9%E5%AE%9A%E7%9A%84%E8%AE%BE%E7%BD%AE%EF%BC%88%E5%A6%82%E4%BA%92%E6%96%A5%E9%87%8F%EF%BC%8C%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%EF%BC%8C%E4%B8%B4%E7%95%8C%E5%8C%BA%EF%BC%89%E6%9D%A5%E6%8E%A7%E5%88%B6%E7%BA%BF%E7%A8%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%EF%BC%88%E5%8D%B3%E6%89%80%E8%B0%93%E7%9A%84%E5%90%8C%E6%AD%A5%EF%BC%89%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%AF%B4%E6%98%AF%E5%9C%A8%E7%BA%BF%E7%A8%8B%E4%B9%8B%E9%97%B4%E9%80%9A%E8%BF%87%E5%90%8C%E6%AD%A5%E5%BB%BA%E7%AB%8B%E8%B5%B7%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%E5%90%8C%E6%AD%A5%EF%BC%8C%E9%82%A3%E7%BA%BF%E7%A8%8B%E4%B9%8B%E9%97%B4%E6%98%AF%E5%90%84%E8%87%AA%E8%BF%90%E8%A1%8C%E5%90%84%E8%87%AA%E7%9A%84%EF%BC%81,%E7%BA%BF%E7%A8%8B%E4%BA%92%E6%96%A5%E6%98%AF%E6%8C%87%E5%AF%B9%E4%BA%8E%E5%85%B1%E4%BA%AB%E7%9A%84%E8%BF%9B%E7%A8%8B%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%EF%BC%8C%E5%9C%A8%E5%90%84%E5%8D%95%E4%B8%AA%E7%BA%BF%E7%A8%8B%E8%AE%BF%E9%97%AE%E6%97%B6%E7%9A%84%E6%8E%92%E5%AE%83%E6%80%A7%E3%80%82'><span>同步，互斥，通信</span></a></p><h2 id='io模型'><span>IO模型</span></h2><ol start='' ><li><p><span>类型：同步IO，异步IO ：执行IO操作&quot;是否</span><strong><span>阻塞</span></strong><span>，当请求被阻塞，就是同步IO，否则就是异步IO</span></p></li><li><p><span>同步IO模型：</span></p><ol start='' ><li><span>阻塞IO：阻塞IO意味着当我们发起一次IO操作后</span><strong><span>一直等待</span></strong><span>成功或失败之后才返回，在这期间程序</span><strong><span>不能做其它的事情</span></strong><span>。</span><img src="知识点.assets/SouthEast.png" referrerpolicy="no-referrer" alt="这里写图片描述"></li><li><span>非阻塞IO：等待数据的阶段是非阻塞的，也就是当没有数据报准备好，立即返回一个错误，</span><strong><span>反复访问</span></strong><span>直到数据包准备好了，将数据报从内核缓冲区复制到应用进程缓冲区后返回。</span><img src="知识点.assets/SouthEast-16491218622872.png" referrerpolicy="no-referrer" alt="这里写图片描述"></li><li><span>IO多路复用：</span><strong><span>单个线程，通过记录跟踪每个I/O流(sock)的状态，来同时管理多个I/O流</span></strong><span> 。内核一旦发现进程指定的一个或者多个IO条件准备读取，它就通知该进程。阻塞在select或者poll这两个系统调用之上的，而没有阻塞在真正的I/O系统调用之上，它等待数据报套接字变为可读，当数据报可读时，把数据报复制到应用进程缓冲区中。</span><img src="知识点.assets/SouthEast-16491220276814.png" referrerpolicy="no-referrer" alt="这里写图片描述"><img src="知识点.assets/image-20220407092427971.png" referrerpolicy="no-referrer" alt="image-20220407092427971"></li><li><span>信号驱动IO：通过sigaction系统调用安装一个信号处理函数，系统调用立即返回，当数据报准备好读取时，内核产生一个信号，随后就可以在信号处理函数中调用recvfrom读取数据报，将数据从内核空间复制到用户空间。信号驱动IO是利用信号机制，让内核告知应用程序文件描述符的相关事件</span><img src="知识点.assets/SouthEast-16491220461936.png" referrerpolicy="no-referrer" alt="这里写图片描述"></li></ol></li><li><p><span>异步IO模型：</span></p><ol start='' ><li><span>调用aio_系列函数，给内核传递描述符、缓冲区指针、缓冲区大小和文件偏移，该系统调用立即返回，当整个IO操作完成，即数据报到达，并且从内核缓冲区被复制到用户缓冲区后，才产生一个信号。</span><img src="知识点.assets/SouthEast-16491221606138.png" referrerpolicy="no-referrer" alt="这里写图片描述"></li></ol></li></ol><p><img src="知识点.assets/SouthEast-164912225794710.png" referrerpolicy="no-referrer" alt="这里写图片描述"></p><h2 id='锁'><span>锁</span></h2><ol start='' ><li><p><span>互斥锁（mutex）</span></p><ol start='' ><li><span>两种状态：加锁，解锁</span></li><li><span>访问共享资源的临界区前加锁，访问后解锁</span></li></ol></li><li><p><span>保护临界资源，同一时间只能</span><strong><span>一个线程</span></strong><span>访问，如果互斥量已上锁，线程处于</span><strong><span>阻塞</span></strong><span>状态，会等待直到解锁。</span></p></li><li><p><span>条件锁（condition_variable）：需要互斥锁配合使用，</span><strong><span>上锁直到条件发生</span></strong></p></li><li><p><span>自旋锁：在获取锁之前，一直</span><strong><span>询问</span></strong><span>保持者是否释放了锁，线程处于</span><strong><span>忙等</span></strong><span>状态</span></p></li><li><p><span>读写锁：拥有共享锁的可以同时访问，拥有独占锁的只能自己访问</span></p></li><li><p><span>信号量：</span><strong><span>计数器</span></strong><span>，本质是计数器，记录资源剩余访问机会；pv原语，p使信号量-1，v使信号量+1；信号量 &gt;0才允许访问</span></p></li><li><p><span>递归锁：锁上加锁</span></p></li></ol><h2 id='用户态和内核态'><span>用户态和内核态</span></h2><ol start='' ><li><span>内核态：运行操作系统程序，执行特权指令（启动IO，文件系统，进程调度，同步原语，内存管理，修改程序状态字，设置时钟，允许/禁止中断，停机）</span></li><li><span>能访问所有的内存空间和对象，且所占用的处理机是不允许被抢占的。</span></li><li><span>用户态：运行用户程序，执行非特权指令，进程所能访问的内存空间和对象受到限制，其所占有的处理机是可被抢占的。</span></li><li><span>用户态切换到内核态的途径——&gt;中断/异常/系统调用</span></li></ol><h2 id='中断处理过程'><span>中断处理过程</span></h2><ol start='' ><li><span>保护现场：将当前执行程序的相关数据保存在寄存器，然后入栈</span></li><li><span>开中断：以便执行中断时能响应较高级别的中断请求</span></li><li><span>中断处理</span></li><li><span>关中断：保证恢复现场时不被新的中断打断</span></li><li><span>恢复现场：从堆栈按序取出程序数据，恢复中断前的状态</span></li></ol><h2 id='系统调用'><span>系统调用</span></h2><ol start='' ><li><span>定义：运行在用户空间的程序向操作系统内核请求需要更高权限运行的服务。系统调用提供</span><strong><span>用户程序与操作系统之间的接口</span></strong></li><li><span>分类：进程控制；文件管理；设备管理；信息维护；通信；保护</span></li></ol><h2 id='操作系统的主要功能'><span>操作系统的主要功能</span></h2><p><span>进程管理：进程控制，进程同步，进程通信和进程调度</span>
<span>内存管理：内存分配，内存保护，地址映射，内存扩充</span>
<span>设备管理：管理所有外围设备，包括完成用户IO请求，为用户进程分配IO设备，提高IO设备利用率，提高IO速度，方便IO使用</span>
<span>文件管理：管理用户文件和系统文件，包括磁盘存储空间管理，目录管理，文件读写管理以及文件共享及保护</span>
<span>提供用户接口：程序接口API&amp;用户接口GUI</span></p><h2 id='并行和并发'><span>并行和并发</span></h2><p><span>并行(parallel)：指在同一时刻，有多条指令在</span><strong><span>多个处理器</span></strong><span>上同时执行。所以无论从微观还是从宏观来看，二者都是一起执行的。</span>
<img src="知识点.assets/565dadb4167d450e8dfd1717bf3b4696-16493262707663.png" referrerpolicy="no-referrer" alt="并行">
<span>并发(concurrency)：指在同一时刻只能有一条指令执行，但多个进程指令被快速的轮换执行，使得在宏观上具有多个进程同时执行的效果，但在微观上并不是同时执行的，只是把时间分成若干段，使多个</span><strong><span>进程快速交替</span></strong><span>的执行。</span></p><p><img src="知识点.assets/92d19f577e1f47c3908a705066b071f1-16493262707674.png" referrerpolicy="no-referrer" alt="并发"></p><h2 id='碎片'><span>碎片</span></h2><ol start='' ><li><span>内部碎片是已经被分配出去的的内存空间大于请求所需的内存空间。</span></li><li><span>外部碎片是指还没有分配出去，但是由于大小太小而无法分配给申请空间的新进程的内存空间空闲块。</span></li><li><span>页式虚拟存储系统存在内部碎片；段式虚拟存储系统，存在外部碎片</span></li></ol><h2 id='内存分配算法'><span>内存分配算法</span></h2><p><span>首次适应算法：空闲分区以地址递增次序链接，分配内存时顺序查找，找到大小能满足要求的第一个空闲分区</span>
<span>最佳适应算法：空闲分区按容量递增的次序链接，找到第一个能满足要求的空闲分区</span>
<span>最坏适应算法：空闲分区以容量递减的次序链接，找到第一个能满足要求的空闲分区，也就是挑选最大的分区</span></p><h2 id='分页和分段'><span>分页和分段</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>分页</span></th><th><span>分段</span></th></tr></thead><tbody><tr><td><span>描述</span></td><td><span>将地址空间划分为大小固定的页，每一页和物理内存进行映射</span></td><td><span>把地址空间分成段，一个段构成一个独立空间</span></td></tr><tr><td><span>目的</span></td><td><span>为了提高内存利用率。主要用于实现虚拟内存，从而获得更大的地址空间</span></td><td><span>为了使程序和数据可以被划分为逻辑上独立的地址空间并且有助于共享和保护。</span><br><span>共享：进程间的共享</span><br><span>保护：每个段都独立增长减小，不影响其他段</span></td></tr><tr><td><span>方式</span></td><td><span>把内存空间划分为大小相等且固定的块，作为主存的基本单位。因为程序数据存储在不同的页面中，而页面又离散的分布在内存中，因此需要一个</span><strong><span>页表</span></strong><span>来记录映射关系，以实现从页号到物理块号的映射。</span></td><td><span>由于分段管理中，每个段内部是连续内存分配，但是段和段之间是离散分配的，因此也存在一个逻辑地址到物理地址的映射关系，相应的就是段表机制。</span></td></tr><tr><td><span>访问地址</span></td><td><span>访问分页系统中内存数据需要两次的内存访问 (一次是从内存中访问页表，从中找到指定的物理块号，加上页内偏移得到实际物理地址；第二次就是根据第一次得到的物理地址访问内存取出数据)。</span><img src="知识点.assets/image-20220407201414660.png" referrerpolicy="no-referrer"></td><td><span>分段内存管理当中，地址是二维的，一维是</span><strong><span>段号</span></strong><span>，二维是</span><strong><span>段内地址</span></strong><span>；其中每个段的长度是不一样的，而且每个段内部都是从0开始编址的。</span><img src="知识点.assets/image-20220407201512406.png" referrerpolicy="no-referrer" alt="image-20220407201512406"></td></tr><tr><td><span>特点</span></td><td><span>页长固定</span></td><td><span>段长可变</span></td></tr><tr><td><span>调度算法</span></td><td><span>最佳置换算法：置换未来最长时间不访问的页面</span><br><span>先进先出置换算法：队列形式保存</span><br><span>最近最久未使用置换算法：根据页面未被使用时间排序，置换最久未被使用页面</span><br><span>CLOCK时钟置换算法：环形链表保存，页面包含一个访问位，顺序链表保存，如果访问位是 1 则改为0 ，如果是 0 则置换出去</span><br><span>最不常用算法：记录访问次数，每次置换访问最少的页面</span></td><td>&nbsp;</td></tr><tr><td><span>查找提速</span></td><td><span>使用Cache来缓存常用的地址映射，这样可以加速页表查找，这个Cache就是TLB。</span><br></td><td>&nbsp;</td></tr><tr><td><span>分页+分段</span></td><td><span>将地址空间划分为独立的段，每个段拥有很多大小相同的页</span><br><span>既有共享保护功能，又有虚拟内存功能</span></td><td>&nbsp;</td></tr></tbody></table></figure><h2 id='虚拟内存'><span>虚拟内存</span></h2><ol start='' ><li><p><span>描述：</span></p><ol start='' ><li><span>一种内存管理技术</span></li><li><span>让程序觉得自己拥有连续的可用内存</span></li><li><span>由交换空间和物理内存构成：交换空间是内存资源不足时，将某些页内容移到硬盘上的一块区域，以释放内存空间</span></li><li><span>结合硬盘的大容量和内存的高速度，为进程提供看起来足够大的足够快的存储空间</span></li><li><span>利用页表结构对资源进行调度，提高资源利用率，提供和谐统一的抽象</span></li></ol></li><li><p><span>特点：</span></p><ol start='' ><li><span>多次性，是指无需在作业运行时一次性地全部装入内存，而是允许被分成</span><strong><span>多次</span></strong><span>调入内存运行。</span></li><li><span>对换性，是指无需在作业运行时一直常驻内存，而是允许在作业的运行过程中，进行</span><strong><span>换进和换出</span></strong><span>。</span></li><li><span>虚拟性，是指从逻辑上扩充内存的容量，使用户</span><strong><span>所看到的内存容量，远大于实际的内存容量。</span></strong></li></ol></li><li><p><span>优点：</span></p><ol start='' ><li><span>可以使用有限的内存资源，</span><strong><span>处理比实际内存更大的文件或者数据</span></strong></li><li><span>更加高效的内存利用</span></li><li><span>在有限的内存资源内，让系统</span><strong><span>运行更多的程序实例</span></strong><span>，因为每个程序都是按需取。</span></li></ol></li><li><p><span>缺点：</span></p><ol start='' ><li><span>如果内存严重不足，而处理超级大的文件时，会</span><strong><span>频繁引起内存和磁盘进行swap，从而降低系统性能。</span></strong></li><li><span>在多个应用程序之间</span><strong><span>切换会花费更多的时间</span></strong></li><li><span>虚拟内存本质上是充分了磁盘空间，但同时变相的提供用户使用的实际</span><strong><span>磁盘空间也会变小。</span></strong></li></ol></li></ol><h2 id='磁盘io'><span>磁盘IO</span></h2><ol start='' ><li><span>寻道：找到对应的磁道</span></li><li><span>旋转：找对应的扇区</span></li><li><span>传输：读写传输</span></li></ol><h1 id='图形学'><span>图形学</span></h1><h2 id='渲染管线'><span>渲染管线</span></h2><p><span>渲染管线的功能是通过给定虚拟相机、3D场景物体以及光源等场景要素来产生或者渲染一副2D的图像。</span>
<span>两个功能：一是将物体3D坐标转变为屏幕空间2D坐标，二是为屏幕每个像素点进行着色。</span>
<span>一般流程：顶点数据的输入、顶点着色器、曲面细分过程、几何着色器、图元组装、裁剪剔除、光栅化、片段着色器以及混合测试。</span></p><ol start='' ><li><p><strong><span>顶点数据</span></strong><span>：为后面的阶段提供处理的</span><strong><span>数据</span></strong><span>。</span>
<span>顶点属性包括顶点坐标，顶点法线，纹理坐标，顶点颜色等。</span>
<span>图元信息包括点，线，线段，三角面等</span></p></li><li><p><strong><span>顶点着色器</span></strong><span>：</span></p><ol start='' ><li><span>用MVP矩阵进行</span><strong><span>坐标变换</span></strong><span>。将局部坐标变换到世界坐标，观察坐标和裁剪坐标</span></li><li><span>再将顶点的深度值z保存在顶点经过变换得到的齐次坐标的w分量中。</span></li></ol></li><li><p><strong><span>曲面细分</span></strong><span>（可选）：对三角面进行细分，</span><strong><span>增加物体的三角面数量</span></strong><span>。</span>
<span>有细节层次机制，近物细节多，远物细节少</span></p></li><li><p><strong><span>几何着色器</span></strong><span>（可选）：处理图元，可将输入的点或线</span><strong><span>扩展</span></strong><span>成多边形</span></p></li><li><p><strong><span>图元组装</span></strong><span>：将输入的顶点</span><strong><span>组装</span></strong><span>成指定的图元。进行</span><strong><span>裁剪，背面剔除</span></strong><span>相关的优化和屏幕映射的操作。</span></p></li><li><p><strong><span>光栅化</span></strong><span>：光栅化是个</span><strong><span>离散化</span></strong><span>的过程，将3D连续的物体转化为离散屏幕像素点的过程。光栅化会确定图元所覆盖的片段，利用顶点属性</span><strong><span>插值</span></strong><span>得到片段的属性信息，然后送到片段着色器进行颜色计算。</span></p></li><li><p><strong><span>片段着色器</span></strong><span>（像素着色器）：决定屏幕上像素的最终</span><strong><span>颜色</span></strong><span>。在这个阶段会进行</span><strong><span>光照计算以及阴影处理</span></strong><span>，是渲染管线高级效果产生的地方。</span></p></li><li><p><strong><span>测试混合阶段</span></strong><span>：测试包括裁切测试、Alpha测试、模板测试和深度测试。通过测试的片段会进入混合阶段。半透明物体的绘制需要遵循画家算法由远及近进行绘制，半透明物体渲染时，一般会使用顺序无关的半透明渲染技术。</span><img src="知识点.assets/image-20220405191203320.png" referrerpolicy="no-referrer" alt="image-20220405191203320"></p></li></ol><h2 id='光照模型'><span>光照模型 </span></h2><h3 id='lambert漫反射模型'><span>Lambert漫反射模型</span></h3><p><span>粗糙的物体表面向各个方向等强度地反射光，这种等同度地散射现象称为光的漫反射。</span></p><h3 id='phong'><span>Phong</span></h3><ol start='' ><li><span>Phong写实效果更好</span></li><li><span>问题：当反射光与视线的</span><strong><span>夹角大于90度</span></strong><span>时，由于在实际渲染时余弦值总是被限制在[0,1]，在这些地方上高光项没有任何贡献。当物体的反光度非常小时，高光半径就会非常大，在反射角与视线夹角为90度的区域附近就会出现很明显的</span><strong><span>断层</span></strong><span>现象。</span></li></ol><h3 id='blinn-phong光照模型'><span>Blinn-Phong光照模型</span></h3><ol start='' ><li><span>Blinn-Phong的高光范围要比Phong更大，算法简单，运行速度快，高光效果更平滑</span></li><li><span>半角向量与法线夹角总不大于90度，使用Blinn-Phong模型时断层现象不会发生。</span></li></ol><p><img src="知识点.assets/image-20220407101520298.png" referrerpolicy="no-referrer" alt="image-20220407101520298"></p><h2 id='剔除方法'><span>剔除方法</span></h2><ul><li><span>遮挡剔除</span></li><li><span>视口剔除</span></li><li><span>视锥体剔除（应用程序阶段）：依据主要是根据摄像机的视野(field of view)以及近裁减面和远裁剪面的距离，将可视范围外的物体排除出渲染</span></li><li><span>背面剔除（光栅化阶段）：先判定多边形的朝向，并和当前的观察方向进行比较。</span></li><li><span>深度剔除（early -z)</span></li></ul><h2 id='用到的buffer'><span>用到的BUFFER</span></h2><ul><li><strong><span>帧缓冲</span></strong><span> (Frame Buffer) ：帧缓冲区是下面几种缓冲的合集，他可以保存其他确实有内存存储并且可以进行渲染的对象，例如纹理或渲染缓冲区。</span></li><li><strong><span>颜色缓冲</span></strong><span> (Color Buffer) ：存储所有片段的颜色：即视觉输出的效果。</span></li><li><strong><span>模板缓冲</span></strong><span> (Stencil Buffer) ：为屏幕上的每个像素点保存一个无符号整数值。用于模板测试中。决定是否丢弃片段。</span></li><li><strong><span>顶点缓冲</span></strong><span> (Vertice Buffer)：管理顶点数组数据。</span></li><li><strong><span>深度缓冲</span></strong><span> (Depth Buffer)：处理图像深度坐标，确定渲染场景中哪部分可见、哪部分不可见的。</span></li></ul><h2 id='碰撞检测'><span>碰撞检测</span></h2><h3 id='包围盒'><span>包围盒</span></h3><ol start='' ><li><span>包围盒算法是一种求解离散点集最优包围空间的方法</span></li><li><span>基本思想是用体积稍大且特性简单的集合体近似代替复杂的几何体。</span></li><li><span>最常见的包围盒算法有AABB包围盒，包围球，方向包围盒OBB以及固定方向凸包FDH</span></li><li><span>AABB包围盒</span><img src="知识点.assets/image-20220407152154556.png" referrerpolicy="no-referrer" alt="image-20220407152154556"></li><li><span>AABB 包围盒的碰撞检测</span><img src="知识点.assets/image-20220407152326265.png" referrerpolicy="no-referrer" alt="image-20220407152326265"></li></ol><h3 id='速度过快体积过小导致物理引擎检测不到碰撞如何解决'><span>速度过快/体积过小导致物理引擎检测不到碰撞，如何解决。</span></h3><ul><li><span>连续碰撞检测：在移动时先判断移动后的位置与现在的位置作</span><strong><span>射线检测</span></strong><span>，若有碰撞则移动失败否则移动成功。</span></li><li><span>把Mesh包含在胶囊体里面，可以保证不会穿模。</span></li></ul><h2 id='mvp变换'><span>MVP变换</span></h2><ol start='' ><li><p><span>模型变换</span></p><ol start='' ><li><span>三维变换矩阵</span></li><li><span>绕n轴旋转α角</span></li></ol></li><li><p><span>视口变换</span></p><ol start='' ><li><span>将摄像机放回原点</span></li><li><span>将摄像机旋转至规范角度</span></li></ol></li><li><p><span>投影变换</span></p><ol start='' ><li><span>透视投影 = 压缩物体 + 正交投影</span></li></ol></li></ol><h2 id='采样'><span>采样</span></h2><ol start='' ><li><p><span>判断采样点在三角形的内部：三次叉乘&gt;0</span></p></li><li><p><span>加速采样：AABB包围盒；每一行考虑最左最右</span></p></li><li><p><span>抗锯齿</span></p><ol start='' ><li><span>超采样MSAA：每个像素多次采样，求平均。</span></li><li><span>时序采样TAA：相邻两帧同一像素用不同的位置来sample</span></li><li><span>图像替换FXAA：找到边界，换成没有锯齿的边界</span></li></ol></li></ol><h2 id='深度处理'><span>深度处理</span></h2><ol start='' ><li><p><span>画家算法：由远及近画画，覆盖。无法处理互相遮挡的情况</span></p></li><li><p><span>Z-Buffer</span></p><ol start='' ><li><span>对每个像素多存一个深度缓冲区</span></li><li><span>不能处理透明物体</span></li></ol></li></ol><h2 id='纹理映射'><span>纹理映射</span></h2><ol start='' ><li><span>纹理过小的解决方法：双线性插值， 双向三次插值</span></li><li><span>纹理过大的解决方法：Mipmap</span></li></ol><h2 id='顶点在渲染管线的变化'><span>顶点在渲染管线的变化</span></h2><p><span>对象空间--(模型变换)--&gt;世界空间--(视图变换)--&gt;相机空间--(裁剪矩阵)--&gt;裁剪空间--(视口变化)--&gt;屏幕空间</span></p><h2 id='贴图'><span>贴图</span></h2><ol start='' ><li><span>环境贴图</span></li><li><span>法线贴图：记录了高度移动，</span><strong><span>不改变几何信息</span></strong><span>，逐像素扰动法线方向，高度 offset 相对变化，从而改变法线方向</span></li><li><span>位移贴图：</span><strong><span>改变几何信息</span></strong><span>，对顶点做位移</span></li><li><span>环境光遮蔽贴图：计算好的环境光遮蔽贴图，空间换时间</span></li></ol><h2 id='贝塞尔曲线'><span>贝塞尔曲线</span></h2><ol start='' ><li><p><span>递归贝塞尔曲线：在每条直线上 Δt 时间内走到的点的连线</span></p></li><li><p><span>逐段贝塞尔曲线，每四个点控制一段曲线</span></p><ol start='' ><li><span>连续性保证：相邻曲线控制点重合</span></li><li><span>光滑性保证：重合点的前后切线共线且相等</span></li></ol></li></ol><h2 id='曲面处理'><span>曲面处理</span></h2><ol start='' ><li><p><span>曲面细分</span></p><ol start='' ><li><span>loop细分：每个三角形分成四个</span></li><li><span>catmull-clark细分：处理非四边形（奇异点）</span></li></ol></li><li><p><span>曲面简化</span></p><ol start='' ><li><span>处理远距离的几何体</span></li><li><span>边塌缩，顶点合并（新点到邻面的距离和最小）</span></li></ol></li></ol><h2 id='光线追踪'><span>光线追踪</span></h2><ol start='' ><li><span>光线追踪方法主要思想是从视点向成像平面上的像素发射光线，找到与该光线相交的最近物体的交点</span></li><li><span>如果该点处的表面是散射面，则计算光源直接照射该点产生的颜色；如果该点处表面是镜面或折射面，则继续向反射或折射方向跟踪另一条光线</span></li><li><span>如此递归下去，直到光线逃逸出场景或达到设定的最大递归深度。</span></li></ol><h2 id='路径追踪'><span>路径追踪</span></h2><ol start='' ><li><span>路径追踪的基本思想是从视点发出一条光线，光线与物体表面相交时根据表面的材质属性</span></li><li><span>继续采样一个方向，发出另一条光线，如此迭代，直到光线打到光源上（或逃逸出场景）</span></li><li><span>用蒙特卡洛的方法，计算其贡献，作为像素的颜色值。</span><span>					</span></li></ol><h2 id='光线和三角面求交'><span>光线和三角面求交</span></h2><ol start='' ><li><span>解法：光线和平面求交+交点在三角形内部</span></li></ol><h2 id='加速算法'><span>加速算法</span></h2><ol start='' ><li><p><strong><span>加速网格</span></strong><span>：求包围盒；构建网格；将对象存储在重叠的单元格；以光移动方向进入网格；判断重叠的网格体的是否和光相交</span></p></li><li><p><strong><span>空间划分</span></strong><span>：</span></p><ol start='' ><li><span>四叉树/八叉树：空间均分切割，适用于快速碰撞检测</span></li><li><span>KD Tree：每次沿一个轴切割</span></li><li><span>BSP tree：每次沿一个方向切割，不一定是轴</span></li></ol></li><li><p><strong><span>物体划分</span></strong></p><p><span>BVH分堆：找到包围盒，拆分成两部分，细化包围盒，重复上述步骤直到合适</span></p></li></ol><h2 id='mipmap'><span>mipmap</span></h2><ol start='' ><li><span>定义：在渲染时，根据一个像素离眼睛为之的距离，来判断从一个合适的图层中取出texel颜色赋值给像素</span></li><li><span>优点：会优化显存带宽，用来减少渲染，因为可以根据实际情况，会选择适合的贴图来渲染，距离摄像机越远，显示的贴图像素越低，反之，像素越高。</span></li><li><span>缺点：会占用内存，因为mipmap会根据摄像机远近不同而生成对应的八个贴图</span></li></ol><h2 id='lod多层级细节'><span>LOD多层级细节</span></h2><ul><li><span>LOD会根据模型距离摄影机的距离，选择不同精度的模型，摄影机越近则选择高精度的模型，远则反之。</span></li><li><span>优点：提高渲染效率，优化了性能。 缺点：增加了内存占用。</span></li></ul><h1 id='stl和数据结构'><span>STL和数据结构</span></h1><h2 id='stl底层实现'><span>STL底层实现</span></h2><figure><table><thead><tr><th><span>容器</span></th><th><span>底层</span></th><th><span>特点</span></th></tr></thead><tbody><tr><td><span>vector</span></td><td><span>数组</span></td><td><span>顺序存储</span><br><span>随机访问</span><br><span>在堆上自动分配大小</span><br><span>自动扩容机制：以原来大小的二倍另外开辟一块空间；再将原来数据复制过去，并释放原空间</span><br><span>可以快速在最后添加删除元素</span></td></tr><tr><td><span>list双向链表</span></td><td><span>双向链表</span></td><td><span>添加，删除等操作，时间复杂度为O(1)</span><br><span>查找复杂度为O(n)</span></td></tr><tr><td><span>deque</span></td><td><span>数组/双向链表</span></td><td><span>支持首尾（中间不能）快速增删</span><br><span>随机访问</span></td></tr><tr><td><span>stack（适配器</span></td><td><span>list/deque封闭头部</span></td><td><span>后进先出</span><br><span>不能遍历元素</span><br><span>底层往往是deque或list封闭一端</span></td></tr><tr><td><span>queue（适配器</span></td><td><span>list/deque封闭pre</span></td><td><span>先进先出</span><br><span>底层往往是deque封闭底部的出口和顶部的入口</span></td></tr><tr><td><span>priority_queue（适配器</span></td><td><span>vector为底层容器，堆为处理规则</span></td><td><span>优先级高的在首位</span><br><span>可以按照任何顺序插入</span></td></tr><tr><td><span>set集合</span></td><td><span>红黑树</span></td><td><span>有序不重复</span></td></tr><tr><td><span>multiset</span></td><td><span>红黑树</span></td><td><span>有序可重复</span></td></tr><tr><td><span>map字典</span></td><td><span>红黑树</span></td><td><span>有序不重复</span><br><span>元素会根据键值自动排序</span><br><span>每个元素都是pair的，同时拥有键值first和实值second</span></td></tr><tr><td><span>multimap</span></td><td><span>红黑树</span></td><td><span>有序可重复</span></td></tr><tr><td><span>unordered_set</span></td><td><span>hash表</span></td><td><span>无序不重复</span></td></tr><tr><td><span>unordered_multiset</span></td><td><span>hash表</span></td><td><span>无序可重复</span></td></tr><tr><td><span>unordered_map</span></td><td><span>hash表</span></td><td><span>无序不重复</span></td></tr><tr><td><span>unordered_multimap</span></td><td><span>hash表</span></td><td><span>无序可重复</span></td></tr><tr><td><span>二叉树</span></td><td>&nbsp;</td><td><span>对一棵相对平衡的有序二叉树，对其进行插入，查找，删除等操作，平均复杂度均为O(logn)。</span></td></tr><tr><td><span>哈希表</span></td><td>&nbsp;</td><td><span>添加，删除，查找等操作，性能十分之高，不考虑哈希冲突的情况下，仅需一次定位即可完成，时间复杂度为O(1)</span></td></tr></tbody></table></figure><h2 id='二叉树'><span>二叉树</span></h2><ol start='' ><li><span>完全二叉树：只允许最后一层不满</span></li><li><span>满二叉树：除了最后一层，都有两个子节点</span></li><li><span>二叉排序树：空树或者左节点小于根，右节点大于根</span></li><li><span>平衡二叉树AVL ：左右子树高度差&lt;= 1；防止二叉树退化为链表；为了搜索效率，牺牲了插入删除的效率</span></li><li><span>红黑树：兼顾搜索和插入删除效率；搜索效率略低于AVL树</span></li></ol><h2 id='红黑树'><span>红黑树</span></h2><ol start='' ><li><p><span>目的：复杂变化的目的是为了维持平衡，改善二叉搜索树插入删除的效率，管理内存资源</span></p></li><li><p><span>特点：根节点黑色，每个红色节点的子节点都是黑色，每个节点到后代的黑色节点数相同，叶子节点NIL黑色</span></p></li><li><p><span>变换：</span></p><ol start='' ><li><span>旋转：</span><img src="知识点.assets/image-20220407081541486.png" referrerpolicy="no-referrer" alt="image-20220407081541486"></li><li><span>变色</span></li></ol></li><li><p><span>平衡二叉搜索树和红黑树</span></p></li></ol><figure><table><thead><tr><th>&nbsp;</th><th><span>AVL</span></th><th><span>红黑树</span></th></tr></thead><tbody><tr><td><span>定义</span></td><td><span>左右子树的高度差最大为1</span></td><td><span>黑结点的高度一样</span></td></tr><tr><td><span>插入（最差情况</span></td><td><span>O(lgn)</span></td><td><span>两次旋转 o(1)</span></td></tr><tr><td><span>删除</span></td><td><span>需要回溯多个节点 o(logn)</span></td><td><span>最多三次旋转 o(1)</span></td></tr><tr><td><span>搜索效率（平衡性）</span></td><td><span>高</span></td><td><span>低</span></td></tr><tr><td><span>统计性能</span></td><td><span>低</span></td><td><span>高</span></td></tr><tr><td><span>使用场景</span></td><td><span>查找多</span></td><td><span>插入删除多</span></td></tr></tbody></table></figure><ol start='5' ><li><span>跳表和红黑树</span></li></ol><figure><table><thead><tr><th>&nbsp;</th><th><span>红黑树</span></th><th><span>跳表</span></th></tr></thead><tbody><tr><td><span>定义</span></td><td><span>黑结点的高度一样</span></td><td><span>多层的有序链表</span></td></tr><tr><td><span>查找一个范围</span></td><td><span>o(logn)</span></td><td><span>logn*o(logn)</span></td></tr><tr><td><span>增删改查一个数</span></td><td><span>o(logn)</span></td><td><span>o(logn)</span></td></tr></tbody></table></figure><h2 id='b树和b树'><span>B树和B+树</span></h2><ol start='' ><li><p><span>B树：多路搜索树，进一步降低树的高度</span></p></li><li><p><span>文件系统和数据库的索引都是存在硬盘上的，并且如果数据量大的话，不一定能一次性加载到内存中。</span><strong><span>可以每次加载B树的一个节点，然后一步步往下找</span></strong></p></li><li><p><span>内存中红黑树效率高，但是磁盘中B树更优；B树是为磁盘或者其他直接存储的辅助存储设备而设计的一种平衡搜索树</span></p></li><li><p><span>B树的特点</span></p><ol start='' ><li><span>关键字集合分布在整棵树中</span></li><li><span>任何关键字出现且只出现在一个节点中</span></li><li><span>搜索可能在非叶子节点结束</span></li><li><span>搜索性能等价于一次二分查找</span></li><li><span>自动层次控制</span></li><li><span>节点存储：当前节点关键字个数n，以及n个关键字升序存放，bool当前节点是不是叶子节点，指向其子节点的指针，key关键字范围</span></li><li><span>每个叶节点具有相同深度h</span></li><li><span>每个节点包含关键字个数有上界和下界。这个界用</span><strong><span>最小的度</span></strong><span> t&gt;=2 来表示</span></li></ol></li><li><p><span>B+树：</span></p><ol start='' ><li><span>将数据存储在叶子节点上，并用链表链接；</span></li><li><span>避免了B树处理连续数据而跨层寻找</span></li><li><span>非叶子节点相当于叶子结点的索引</span></li></ol></li><li><p><span>为什么用B+树而不用hash表存储索引：如果只选一个数据，那确实是 Hash 更快。但是数据库中经常会选择</span><strong><span>多条</span></strong><span>，这时候由于 B+ 树索引有序，并且又有链表相连，它的查询效率比 Hash 就快很多了。而且数据库中的索引一般是在磁盘上，</span><strong><span>数据量大</span></strong><span>的情况可能无法一次装入内存，B+ 树的设计可以允许数据分批加载，同时树的高度较低，提高查找效率。</span></p></li></ol><h2 id='哈希表'><span>哈希表</span></h2><ol start='' ><li><p><span>原理：把Key通过一个</span><strong><span>哈希函数</span></strong><span>转换成一个整型数字，然后就将该数字对</span><strong><span>数组</span></strong><span>长度进行取余，取余结果就当作数组的下标，将value存储在以该数字为下标的数组空间里。</span></p></li><li><p><span>哈希函数的构造方法：</span></p><ol start='' ><li><span>直接定址法：取关键字或关键字的某个线性函数值为哈希地址。</span></li><li><span>数字分析法：若关键字是以r为基的数（如：以10为基的十进制数），可取关键字的若干数位组成哈希地址。</span></li><li><span>平方取中法：取关键字平方后的中间几位为哈希地址。</span></li><li><span>折叠法：将关键字分割成位数相同的几部分（最后一部分的位数可不同），然后取这几部分的叠加和（舍去进位）作为哈希地址。适用于关键字位数比较多，且关键字中每一位上数字分布大致均匀时。</span></li><li><span>除留余数法：取关键字被某个不大于哈希表表长m的数p除后所得余数为哈希地址（p为素数）</span></li><li><span>随机数法：选择一个随机函数，取关键字的随机函数值为它的哈希地址。</span></li></ol></li><li><p><span>哈希冲突：如果两个数据通过哈希函数映射到哈希表后位置重合，就产生哈希冲突</span></p><ol start='' ><li><strong><span>拉链法</span></strong><span>：在相同位置后通过链表来存储数据，&gt;8后换成红黑树</span></li><li><strong><span>开放地址法</span></strong><span>：发生哈希冲突后，按照某一次序（线性探测，平方探测，双散列函数探测）找到下一个空闲的单元，把冲突的元素放入。</span></li><li><strong><span>再哈希法</span></strong><span>：冲突时再用一个其他部分计算地址</span></li><li><strong><span>建立公共溢出区</span></strong><span>：冲突时，将新地址放在公共溢出区</span></li></ol></li><li><p><span>哈希扩容因子：0.75</span></p></li></ol><h2 id='堆'><span>堆</span></h2><ol start='' ><li><span>实现优先级队列</span></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//降序队列，大顶堆</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">priority_queue</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span>,<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span>,<span class="cm-variable">less</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&gt;</span><span class="cm-variable">que</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//升序队列，小顶堆</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">priority_queue</span> <span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span>,<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span>,<span class="cm-variable">greater</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">q</span>;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div><div class="CodeMirror-gutters" style="height: 120px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><h2 id='图'><span>图</span></h2><ol start='' ><li><p><span>分类：有向图，无向图</span></p></li><li><p><span>表示方法</span></p><ol start='' ><li><span>邻接矩阵：无向图是对称的；有向图不对称</span></li><li><span>邻接表：图里的每个顶点作为链表的头，后面接的是该顶点可到达的顶点</span></li><li><span>逆邻接表：图里的每个顶点作为链表的头，后面接的是可到达该顶点的顶点</span></li><li><span>十字链表：逆邻接表+邻接表</span></li></ol></li></ol><h3 id='并查集'><span>并查集</span></h3><ol start='' ><li><p><span>作用：主要用于解决一些</span><strong><span>元素分组</span></strong><span>的问题。它管理一系列</span><strong><span>不相交的集合</span></strong><span>，并支持两种操作：</span></p><ul><li><strong><span>合并</span></strong><span>（Union）：把两个不相交的集合合并为一个集合。</span></li><li><strong><span>查询</span></strong><span>（Find）：查询两个元素是否在同一个集合中。</span></li></ul></li><li><p><span>思想：用集合中的一个元素代表集合。把集合比喻成帮派，而代表元素则是帮主。代表元素位于根节点</span><img src="知识点.assets/v2-3c353bc781c7f3553079d541a9cfdc28_720w.jpg" referrerpolicy="no-referrer" alt="img"></p></li><li><p><span>优化：</span></p><ol start='' ><li><span>路径压缩：所有子节点都直接指向父节点</span></li><li><span>按秩合并：把简单的树往复杂的树上合并</span></li></ol></li></ol><h2 id='顺序存储结构和链式存储结构'><span>顺序存储结构和链式存储结构</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>顺序存储结构</span></th><th><span>链式存储结构</span></th></tr></thead><tbody><tr><td><span>存储密度</span></td><td><span>大</span></td><td><span>小</span></td></tr><tr><td><span>空间利用率</span></td><td><span>高</span></td><td><span>低</span></td></tr><tr><td><span>插入删除元素</span></td><td><span>不方便</span></td><td><span>方便</span></td></tr><tr><td><span>查找</span></td><td><span>快</span></td><td><span>慢</span></td></tr><tr><td><span>存储分配的方式</span></td><td><span>静态分配</span></td><td><span>动态分配</span></td></tr><tr><td><span>存取方式</span></td><td><span>随机存取or顺序存取</span></td><td><span>顺序存取</span></td></tr><tr><td><span>插入删除效率</span></td><td><span>平均需要移动近一半元素</span></td><td><span>不需要移动元素，只需要修改指针</span></td></tr></tbody></table></figure><h2 id='stl迭代器'><span>STL迭代器</span></h2><ol start='' ><li><span>一种广义指针</span></li><li><span>种类：输入迭代器；输出迭代器；正向迭代器；双向迭代器；随机访问迭代器</span></li></ol><h2 id='vector扩容机制'><span>vector扩容机制</span></h2><ol start='' ><li><p><span>扩容机制：开辟新空间；拷贝元素；释放旧空间。</span></p></li><li><p><span>以倍数的方式扩容O(1)比以等长个数的扩容方式O(n)效率高</span></p></li><li><p><span>选择1.5倍或者2倍方式扩容:兼顾空间和时间</span></p><ol start='' ><li><p><span>倍数超过2倍(包含2倍)方式扩容会存在：</span></p><ul><li><span>空间浪费可能会比较高。</span></li><li><span>无法使用到前面已释放的内存。</span></li></ul></li><li><p><span>使用1.5倍（k=1.5)扩容时，在几次扩展以后，可以重用之前的内存空间了。</span></p></li><li><p><span>使用2倍（k=2)扩容时，只分配一次，可以管好久,即新分配次数少。</span></p></li><li><p><span>理论最佳扩容因子是：1.618黄金分割率</span></p></li></ol></li></ol><h1 id='计算机网络'><span>计算机网络</span></h1><h2 id='tcp-udp-10点'><span>TCP UDP 10点</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>TCP</span></th><th><span>UDP</span></th></tr></thead><tbody><tr><td><span>可靠性</span></td><td><span>可靠</span></td><td><span>不可靠</span><br><span>在应用层实现确认机制，重传机制，窗口机制来实现可靠传输</span></td></tr><tr><td><span>连接性</span></td><td><span>面向连接</span></td><td><span>面向无连接</span></td></tr><tr><td><span>报文</span></td><td><span>面向字节流</span></td><td><span>面向报文</span></td></tr><tr><td><span>有序性</span></td><td><span>有序</span></td><td><span>无序</span></td></tr><tr><td><span>效率</span></td><td><span>低</span></td><td><span>高</span></td></tr><tr><td><span>双工性</span></td><td><span>全双工，一对一</span></td><td><span>一对一，一对多，多对一，多对多</span></td></tr><tr><td><span>流量控制</span></td><td><span>连接双方网速不同，网速快的以方会让慢的一方处理不过来，所以会把数据存到滑动窗口</span><br><span>但是如果滑动窗口满了，发送方还在疯狂发送，接收方只能丢弃数据包，所以我们需要控制流量</span><br><span>当滑动窗口满了发送方停止发送</span><br><span>接收到一个ACK应答说明之前的数据都接收到了</span></td><td><span>无</span></td></tr><tr><td><span>拥塞控制</span></td><td><span>慢开始，拥塞避免，快重传，快恢复</span></td><td><span>无</span></td></tr><tr><td><span>传输速度</span></td><td><span>慢</span><br><span>TCP为了可靠性保证，增加了3次握手4次挥手，复杂的拥塞控制，以及流量控制，让网络传输的延迟增加</span><br><span>TCP头部的大小，进一步增加了传输的数据量。</span></td><td><span>快</span><br><span>UDP对实时性要求较为严格的情况下，采用自定义重传机制，有包就发，能够把丢包产生的延迟降到最低，尽量减少网络延迟</span></td></tr><tr><td><span>应用场景</span></td><td><span>对可靠性要求高，有连接</span><br><span>文件传输</span></td><td><span>对速度要求高</span><br><span>IP电话，视频会议，直播</span></td></tr><tr><td><span>首部</span></td><td><span>首部20—60字节  </span><br><span>源端口号，目的端口号 ；校验和 ；序号，确认号； 接收窗口 ；首部长度； 选项 ；标志 ；紧急指针</span></td><td><span>UDP首部8字节</span><br><span>源端口号；目的端口号；长度：UDP首部的长度和数据的长度之和；校验和</span></td></tr><tr><td><span>应用层协议</span></td><td><span>SMTP电子邮件</span><br><span>TELNET远程终端接入</span><br><span>HTTP万维网</span><br><span>FTP文件传输</span></td><td><span>DNS域名转换</span><br><span>TFTP文件传输</span><br><span>SNMP网络管理</span><br><span>NFS远程文件服务器</span></td></tr><tr><td><span>分片方式</span></td><td><span>TCP数据大于MSS时会在</span><strong><span>TCP传输层</span></strong><span>将数据进行分片传输，达到目的地后同样在传输层进行合并，如果某个片丢失则只需重传丢失片段即可</span></td><td><span>UDP数据大于MTU时会在</span><strong><span>IP层分片</span></strong><span>，同样在IP层合并，如果某个IP分片丢失，则需要所有分片重传，开销大</span></td></tr><tr><td><span>保活机制</span></td><td><span>在一定时间TCP连接无任何活动时，会启动TCP保活机制，每隔一定时间间隔发送一个探测报文，等待响应</span><br><span>对端正常响应，重置保活时间</span><br><span>对端程序崩溃，传输一个RST报文，将TCP连接重置</span><br><span>保活报文不可达，达到探测次数后关闭连接</span></td><td>&nbsp;</td></tr></tbody></table></figure><h2 id='tcp三次握手四次挥手'><span>TCP三次握手，四次挥手</span></h2><h2 id='三次握手'><span>三次握手</span></h2><ol start='' ><li><p><span>步骤</span></p><ol start='' ><li><span>客户端主动打开，服务端被动打开，进入监听状态</span></li><li><span>客户端进入SYN_SENT态，SYN = 1，发送 seq = x</span></li><li><span>服务端接收到消息后进入SYN_RCVD态，SYN = 1，ACK=1，发送 seq=y，ack=x+1</span></li><li><span>客户端进入连接态ACK=1，发送seq=x+1,ack = y+1</span></li><li><span>服务端收到消息进入连接态</span></li><li><span>双方开始传输数据</span></li></ol></li></ol><p><img src="知识点.assets/image-20220404100552969.png" referrerpolicy="no-referrer" alt="image-20220404100552969"></p><ol start='2' ><li><p><span>为什么要三次握手</span></p><ol start='' ><li><p><span>主要原因：阻止历史重复连接的初始化</span></p><ol start='' ><li><span>当旧的SYN报文到达服务端，服务端返回一个ACK+SYN报文</span></li><li><span>客户端接收后判断这是一个历史连接（序列号过期或者超时），那么客户端发送一个RST报文给服务端，表示终止本次连接</span></li><li><span>如果没有第三次握手，客户端没时间判断报文是否是一个历史连接，直接发送数据。</span></li></ol></li><li><p><span>同步双方的初始化序列号</span></p><ol start='' ><li><span>用来去重，防遗漏，保证顺序</span></li></ol></li><li><p><span>避免资源浪费</span></p><ol start='' ><li><span>两次握手的话，客户端的SYN在网络中阻塞，导致没收到服务端的ACK报文，客户端会重复发送SYN报文，服务器接收多个无用的连接请求</span></li><li><span>服务端不知道客户端是否接收到ACK确认信号，所以每收到一个SYN都会主动建立一个连接</span></li></ol></li></ol></li></ol><h2 id='四次挥手'><span>四次挥手</span></h2><ol start='' ><li><p><span>步骤</span></p><ol start='' ><li><span>客户端FIN=1，发送 seq = x</span></li><li><span>服务端ACK=1，发送ack=x+1</span></li><li><span>服务端FIN=1，发送seq=y</span></li><li><span>客户端ACK=1，发送ack=y+1</span></li></ol></li></ol><p><img src="知识点.assets/image-20220404103103947.png" referrerpolicy="no-referrer" alt="image-20220404103103947"></p><ol start='3' ><li><p><span>在四次挥手中，为什么客户端进入TIME_WAIT状态等待2*MSL时间最长报文段寿命），而不是直接进入CLOSED状态？</span></p><ol start='' ><li><span>客户端发送给服务端FIN报文在传输途中可能丢失，服务端并没有收到，此时客户端会再次向服务端发送FIN=1的断开请求报文。</span></li><li><span>如果客户端没有等待2*MSL时间而直接进入了CLOSED状态，客户端就会收不到服务端再次发送的断开连接的请求报文，</span><strong><span>导致服务端无法进入CLOSED状态</span></strong></li></ol></li><li><p><span>为什么要四次挥手</span></p><ol start='' ><li><span>服务端</span><strong><span>需要等待完成数据的处理和发送</span></strong><span>，在ACK和FIN之间，所以需要分开发送</span></li></ol></li></ol><h2 id='tcp拥塞控制'><span>TCP拥塞控制</span></h2><p><img src="知识点.assets/image-20220404095636519.png" referrerpolicy="no-referrer" alt="image-20220404095636519"></p><ul><li><span>慢启动：发送数据的量从较低的起始值</span><strong><span>指数</span></strong><span>增长</span></li><li><span>拥塞避免：当拥塞的窗口&gt;阈值时，又指数增长降低为</span><strong><span>线性增长</span></strong></li><li><span>超时重传：重传计时器</span><strong><span>超时</span></strong><span>，将阈值减半，重新慢启动</span></li><li><span>快速重传：超过</span><strong><span>三次重复确认</span></strong><span>即视为传输失败，立即重传</span></li><li><span>快速恢复是指发生快速重传后，立刻减低窗口阈值，并进行拥塞避免的</span><strong><span>线性</span></strong><span>增长算法，避免因为拥塞阻碍了重传</span></li></ul><h2 id='tcp如何保证可靠性-6点'><span>TCP如何保证可靠性 6点</span></h2><ol start='' ><li><p><span>校验和：接收端通过校验和检测数据是否有差异，有差异则丢弃</span></p></li><li><p><span>序列号+应答：序列号能保证数据是</span><strong><span>有序</span></strong><span>的，并且</span><strong><span>去重</span></strong><span>；应答报文带有确认序列号，告诉发送方接受了哪些数据，下次从哪发</span></p></li><li><p><span>超时重传：发送包超过一定时间没有收到应答，就会重传</span></p></li><li><p><span>确认机制：三次握手四次挥手</span></p></li><li><p><span>拥塞控制：遇到网络拥塞的处理</span></p><ol start='' ><li><span>慢开始：开始从小到大指数增长试探网络情况</span></li><li><span>拥塞避免：达到阈值线性增长</span></li><li><span>快重传：发生丢包后，接收方立即发出前一个包的重复确认，发送方收到三次重复确认后立即重传丢失的包</span></li><li><span>快恢复：快重传之后，执行快恢复，将阈值减半，而不是执行慢开始</span></li></ol></li><li><p><span>流量控制：根据接收方的缓冲区大小控制发送的数据量。提高了报文传输速率；避免了发送方发送的数据过多，接收方无法正常处理；大小为 min(拥塞控制窗口,流量控制窗口)</span></p></li></ol><h2 id='tcp粘包和拆包'><span>TCP粘包和拆包</span></h2><h3 id='tcp粘包'><span>TCP粘包</span></h3><ol start='' ><li><p><span>TCP把这些数据块仅仅看成一连串无结构的字节流，当两个数据包连在一起时，服务端接收到一串包含两个数据包的数据，无法区分。</span></p></li><li><p><span>产生原因：</span></p><ol start='' ><li><span>要发送的数据</span><strong><span>小于</span></strong><span>TCP 发送缓冲区的大小，TCP 将多次写入缓冲区的数据一次发送出去，将会发生粘包；</span></li><li><span>接收数据端的应用层没有及时读取接收缓冲区中的数据，将发生粘包；</span></li></ol></li><li><p><span>解决方法：</span></p><ol start='' ><li><span>每段数据前加一个 2Byte 的</span><strong><span>消息头</span></strong><span>长度,用来表示这个数据</span>
<span>段的长度。</span></li><li><span>消息定长。发送端将每个数据包封装为固定长度（不够的可以通过补 0 填充），这样接收端每次接收缓冲区中读取固定长度的数据就自然而然的把每个数据包拆分开来。</span></li><li><span>设置消息边界。服务端从网络流中按消息边界分离出消息内容。在包尾增加回车换行符进行分割，例如 FTP 协议。</span></li></ol></li></ol><h3 id='tcp拆包'><span>TCP拆包</span></h3><ol start='' ><li><p><span>产生原因：</span></p><ol start='' ><li><span>要发送的数据</span><strong><span>大于</span></strong><span> TCP 发送缓冲区剩余空间大小，将会发生拆包；</span></li><li><span>待发送数据</span><strong><span>大于</span></strong><span> MSS（最大报文长度），TCP 在传输前将进行拆包</span></li></ol></li><li><p><span>解决方法：和粘包相对应，先读取消息头，然后再读消息体</span></p></li></ol><h3 id='心跳机制'><span>心跳机制</span></h3><ol start='' ><li><span>原因：有些极端情况如客户端掉电、网络关闭、拔网线、路由故障等，这些极端情况客户端无法发送fin包给服务端，服务端便无法知道连接已经断开。</span></li><li><span>实现原理：客户端定时每X秒向服务端发送特定数据，服务端设定为X秒没有收到客户端心跳则认为客户端掉线，并关闭连接触发onClose回调。</span></li></ol><h2 id='帧同步和状态同步'><span>帧同步和状态同步</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>帧同步</span></th><th><span>状态同步</span></th></tr></thead><tbody><tr><td><span>概念</span></td><td><span>客户端计算自己的指令，通过服务端同步。广播的数据量比状态同步要小很多。非常适合游戏行为非常频繁的动作游戏，诸如飞行射击、FPS、RTS（即时战略）</span></td><td><span>客户端指令在服务端计算，之后将状态同步给每个客户端</span></td></tr><tr><td><span>流量</span></td><td><span>低</span></td><td><span>高</span></td></tr><tr><td><span>回放</span></td><td><span>记录文件小</span></td><td><span>记录文件大</span></td></tr><tr><td><span>安全性</span></td><td><span>低</span></td><td><span>高</span></td></tr><tr><td><span>服务器压力</span></td><td><span>小</span></td><td><span>大</span></td></tr><tr><td><span>网络卡顿表现</span></td><td><span>战斗卡顿，掉帧</span></td><td><span>瞬移，回位</span></td></tr><tr><td><span>好处</span></td><td><strong><span>倍速</span></strong><span>：如果只操作逻辑层，不考虑表现那么就可以通过</span><em><span>加快或者减慢逻辑帧率</span></em><span>，快速实现0.5倍，2倍，4倍等变速运算，也可以进行</span><strong><span>秒算验证结果</span></strong><span>。</span><br><strong><span>回放</span></strong><span>：数据是独立存在的，运算和输入也是固定的，那么只要保证逻辑计算一致，那么得到结果必然一致。所以</span><strong><span>只需要</span><em><span>保存很少的初始变量</span></em><span>，</span><em><span>和中间输入</span></em><span>就可以完成整体回放，数据量还贼小</span></strong><span>。</span></td><td>&nbsp;</td></tr><tr><td><span>网络快节奏冲突</span></td><td><span>冲突：如果在预测中遇到了会改变预测的情况，之后的预测可能发生改变。客户端被强制拉回原来的位置，表现新的状态</span><br><em><span>预测</span></em><span>：将玩家的输入立刻应用到本地状态，无需等待服务端返回</span><br><span>和解：预测状态 = 权威状态+预测输入</span><br><em><span>插值</span></em><span>：在表现层的平滑过渡</span><br><span>通过预测，和解，插值解决网络快节奏冲突</span></td><td>&nbsp;</td></tr></tbody></table></figure><h2 id='http和https'><span>HTTP和HTTPS</span></h2><h3 id='http'><span>HTTP</span></h3><ol start='' ><li><span>概念：超文本传输协议，是客户端和服务端相互通信时将信息以http报文的形式传输。</span></li><li><span>无状态：协议自身不对请求和响应之间的通信状态进行保存，即对发送过来的请求和响应都不做持久化处理，把http协议设计的如此简单是为了更快地处理大量事务。</span></li><li><span>端口号：80</span></li><li><span>cookie和session</span></li></ol><figure><table><thead><tr><th>&nbsp;</th><th><span>cookie</span></th><th><span>session</span></th></tr></thead><tbody><tr><td><span>描述</span></td><td><span>cookie是服务器发送给客户端并保存在客户端的一小块数据，在浏览器下次向同一服务器再次发起请求时被携带并发送到服务器上。用来告知服务端两个请求是否来自同一服务器</span></td><td><span>session代表服务器和客户端一次会话的过程。session对象存储着特定用户会话所需的属性及配置信息。当用户在应用程序的web页面之间跳转，session的变量不会丢失。直到客户端关闭会话或者session超时</span></td></tr><tr><td><span>配合</span></td><td><span>客户端第一次发送请求，服务端会创建对应的session，将sessionID传回客户端，客户将他存在cookie</span></td><td><span>之后客户端访问服务器时，自动判断有无此域名下的cookie信息，存在就一起发给服务端，服务端根据sessionID查找对应的session信息，说明用户已登录执行后面的操作即可</span></td></tr><tr><td><span>作用范围，安全性</span></td><td><span>cookie保存在客户端，不安全，易被窃取</span></td><td><span>session保存在服务端，安全</span></td></tr><tr><td><span>存取方式</span></td><td><span>cookie保存ASCII</span></td><td><span>session可保存任意数据类型</span></td></tr><tr><td><span>有效期</span></td><td><span>cookie可长时间保存</span></td><td><span>session保存时间短，一盘客户端关闭，session超时都会失效</span></td></tr><tr><td><span>存储大小</span></td><td><span>单个cookie保存的数据不能超过4K</span></td><td><span>session可保存的数据远超cookie</span></td></tr><tr><td><span>问题</span></td><td>&nbsp;</td><td><span>分布式session：后端可能有多台服务器，用户在A服务器登陆过，第二次在B服务器就登录失效</span><br><span>解决方法：1.Week_2</span><br><span>	</span><span>Day_5</span><br><span>		</span><span>计网</span><br><span>			</span><span>cookie &amp;&amp; session</span><br><span>				</span><span>cookie是服务器发送给客户端并保存在客户端的一小块数据，在浏览器下次向同一服务器再次发起请求时被携带并发送到服务器上。用来告知服务端两个请求是否来自同一服务器</span><br><span>				</span><span>session代表服务器和客户端一次会话的过程。session对象存储着特定用户会话所需的属性及配置信息。当用户在应用程序的web页面之间跳转，session的变量不会丢失。直到客户端关闭会话或者session超时</span><br><span>				</span><span>配合</span><br><span>					</span><span>客户端第一次发送请求，服务端会创建对应的session，将sessionID传回客户端，客户将他存在cookie</span><br><span>					</span><span>之后客户端访问服务器时，自动判断有无此域名下的cookie信息，存在就一起发给服务端，服务端根据sessionID查找对应的session信息，说明用户已登录执行后面的操作即可</span><br><span>				</span><span>区别</span><br><span>					</span><span>作用范围，安全性</span><br><span>						</span><span>cookie保存在客户端，不安全，易被窃取</span><br><span>						</span><span>session保存在服务端，安全</span><br><span>					</span><span>存取方式</span><br><span>						</span><span>cookie保存ASCII</span><br><span>						</span><span>session可保存任意数据类型</span><br><span>					</span><span>有效期</span><br><span>						</span><span>cookie可长时间保存</span><br><span>						</span><span>session保存时间短，一盘客户端关闭，session超时都会失效</span><br><span>					</span><span>存储大小</span><br><span>						</span><span>单个cookie保存的数据不能超过4K</span><br><span>						</span><span>session可保存的数据远超cookie</span><br><span>				</span><span>分布式session存储问题 </span><br><span>					</span><span>后端可能有多台服务器，用户在A服务器登陆过，第二次在B服务器就登录失效</span><br><span>					</span><span>解决方法：1.客户端存储，存在cookie里</span><br><span>2.服务端用nginx代理，同一ip访问固定的后台服务器</span><br><span>3.服务器会将session的改变广播给其他服务器</span><br><span>4.将客户端的session缓存在中间件统一管理</span></td></tr></tbody></table></figure><ol start='5' ><li><p><span>特点：</span></p><ol start='' ><li><p><span>简单：基本报文形式为header+body，头部信息也是key+value简单文本的形式</span></p></li><li><p><span>灵活，易于扩展</span></p><ol start='' ><li><span>HTTP协议的各种请求方法，URI/URL，状态码，头字段等都可以自定义</span></li><li><span>HTTP在应用层工作，下层可随意变换</span></li></ol></li><li><p><span>无状态：服务器不记忆HTTP的状态，减轻负担。但不利于完成有关联性的操作</span></p></li><li><p><span>明文传输：信息传输过程中透明，方便阅读，容易被窃取</span></p></li><li><p><span>不安全</span></p><ol start='' ><li><span>明文不加密，内容会被窃听</span></li><li><span>不验证对方身份，可能遭到伪装</span></li></ol></li></ol></li><li><p><span>请求报文：请求行 、请求头、请求体</span></p></li><li><p><span>响应报文： 响应行、响应头、响应体</span></p></li><li><p><span>请求方法</span></p><ol start='' ><li><span>GET: 从服务器获取资源</span></li><li><span>POST: 在服务器修改资源</span></li><li><span>PUT: 在服务器上传资源</span></li><li><span>DELETE: 在服务器删除资源</span></li><li><span>HEAD: 获取资源的头部</span></li><li><span>OPTIONAL: 查询对指定的资源支持的方法</span></li></ol></li></ol><figure><table><thead><tr><th>&nbsp;</th><th><span>GET</span></th><th><span>POST</span></th></tr></thead><tbody><tr><td><span>后退/刷新</span></td><td><span>无害</span></td><td><span>数据被重新提交</span></td></tr><tr><td><span>书签</span></td><td><span>可收藏为书签</span></td><td><span>不可</span></td></tr><tr><td><span>缓存</span></td><td><span>能被缓存</span></td><td><span>不能被缓存</span></td></tr><tr><td><span>历史</span></td><td><span>参数保留在历史中</span></td><td><span>参数不会保留在历史中</span></td></tr><tr><td><span>对数据长度的限制</span></td><td><span>向 URL 添加数据；URL最长2048个字节</span></td><td><span>无限制</span></td></tr><tr><td><span>对数据类型的限制</span></td><td><span>ASCII</span></td><td><span>没有限制</span></td></tr><tr><td><span>安全性</span></td><td><span>不安全</span></td><td><span>安全</span></td></tr><tr><td><span>可见性</span></td><td><span>数据在 URL 中对所有人都是可见的</span></td><td><span>数据不会显示在 URL 中</span></td></tr></tbody></table></figure><ol start='9' ><li><p><span>状态码：</span></p><p><span>200： 请求被正常处理</span></p><p><span>204： 请求被受理但没有资源可以返回</span>
<span>301： 永久性重定向</span>
<span>302： 临时重定向</span>
<span>304： 已缓存</span>
<span>400： 请求报文语法有误，服务器无法识别</span>
<span>403： 请求的对应资源禁止被访问</span>
<span>404： 服务器无法找到对应资源</span>
<span>500： 服务器内部错误</span>
<span>503： 服务器正忙</span></p></li><li><p><span>HTTP版本</span></p></li></ol><figure><table><thead><tr><th>&nbsp;</th><th><span>HTTP 1.0</span></th><th><span>HTTP 1.1</span></th><th><span>HTTP 2.0</span></th></tr></thead><tbody><tr><td><span>长连接和短连接</span></td><td><span>默认使用短链接</span></td><td><span>默认使用使用长连接</span></td><td>&nbsp;</td></tr><tr><td><span>缓存处理</span></td><td>&nbsp;</td><td><span>有更多缓存控制策略</span></td><td>&nbsp;</td></tr><tr><td><span>带宽优化及网络连接的使用</span></td><td>&nbsp;</td><td><span>允许只发送请求资源的某个部分</span></td><td>&nbsp;</td></tr><tr><td><span>错误通知的管理</span></td><td>&nbsp;</td><td><span>新增了24个错误响应状态码</span></td><td>&nbsp;</td></tr><tr><td><span>Host头处理</span></td><td>&nbsp;</td><td><span>一台物理主机支持多个虚拟主机，他们共享一个IP地址，HTTP 1.1 需要在请求和响应消息上都加一个Host头域</span></td><td>&nbsp;</td></tr><tr><td><span>新的二进制格式</span></td><td>&nbsp;</td><td><span>使用文本格式</span></td><td><span>使用二进制格式</span></td></tr><tr><td><span>多路复用</span></td><td>&nbsp;</td><td>&nbsp;</td><td><span>支持连接共享，一个连接上可以有多个request</span></td></tr><tr><td><span>头部压缩</span></td><td>&nbsp;</td><td>&nbsp;</td><td><span>使用encoder减少要传输的头部的大小，双方都有一份header fields表，避免了重复传输切减小了传输的大小</span></td></tr><tr><td><span>服务端推送</span></td><td>&nbsp;</td><td>&nbsp;</td><td><span>服务端可向浏览器主动推送资源</span></td></tr></tbody></table></figure><p>&nbsp;</p><h3 id='https'><span>HTTPS</span></h3><ol start='' ><li><p><span>概念：HTTPS(超文本安全传输协议) = HTTP(超文本传输协议) + SSL(安全套接字)/TSL(安全传输层协议)</span></p></li><li><p><span>端口号：443</span></p></li><li><p><span>改进措施：</span></p><ol start='' ><li><span>加密：通过SSL或者TLS协议将报文内容进行加密</span></li><li><span>认证：通过值得信赖的第三方机构颁布证书，即可确认通信双方的身份。</span></li><li><span>校验：可以通过MD5等散列码进行通信内容的校验</span></li></ol></li><li><p><span>加密算法</span></p><ol start='' ><li><p><span>对称加密</span>
<span>优点：算法公开、计算量小、加密速度快、加密效率高</span>
<span>缺点：双方都使用同样密钥，安全性得不到保证</span></p></li><li><p><span>非对称加密</span>
<span>私钥加密，持有私钥或公钥才可以解密</span>
<span>公钥加密，持有私钥才可解密</span>
<span>优点：安全，难以破解</span>
<span>缺点：算法比较耗时</span></p></li><li><p><span>混合加密：对称加密+非对称加密，HTTPS采用混合加密</span></p><ol start='' ><li><span>通信建立前采用非对称加密交换密钥</span></li><li><span>通信建立中采用对称加密，加密明文数据</span></li></ol></li></ol></li><li><p><span>验证流程</span></p><ol start='' ><li><span>客户端发起HTTP请求，告诉服务端自己支持哪些hash算法</span></li><li><span>服务端返回数字证书（包含公钥）给客户端</span></li><li><span>客户端验证证书的合法性</span></li><li><span>客户端生成一个</span><strong><span>对称密钥</span></strong><span>，以公钥加密后发送给服务端。</span></li><li><span>服务端用私钥解密，解密后用这个对称密钥进行传输</span></li></ol></li></ol><h2 id='长连接和短连接'><span>长连接和短连接</span></h2><ol start='' ><li><p><span>短连接的操作步骤是：</span>
<span>建立连接——数据传输——关闭连接...建立连接——数据传输——关闭连接</span></p></li><li><p><span>长连接的操作步骤是：</span></p><ol start='' ><li><span>建立连接——数据传输...（保持连接）...数据传输——关闭连接</span></li><li><span>在请求头加keep-alive，通知响应完成后不要关闭，下次继续用</span></li></ol></li></ol><h2 id='web页面请求流程在浏览器输入url后回车的流程）'><span>web页面请求流程（在浏览器输入URL后回车的流程） </span></h2><ol start='' ><li><p><strong><span>查找DNS缓存</span></strong></p><ol start='' ><li><span>浏览器缓存</span></li><li><span>操作系统缓存</span></li><li><span>路由器缓存</span></li><li><span>ISP（本地通信服务商）缓存</span></li></ol></li><li><p><strong><span>发起DNS查询</span></strong></p><ol start='' ><li><span>运营商DNS服务器</span></li><li><span>根DNS服务器</span></li><li><span>顶级域DNS服务器</span></li><li><span>权威DNS服务器</span></li></ol></li><li><p><strong><span>封装TCP数据包</span></strong><span> </span></p><ol start='' ><li><span>数据在传输层添加TCP首部</span></li><li><span>之后在网络层添加IP首部</span></li><li><span>之后在数据链路层层添加以太网首部</span></li></ol></li><li><p><strong><span>浏览器和目标服务器建立TCP连接</span></strong></p></li><li><p><strong><span>浏览器发送HTTP/HTTPS请求到web服务器</span></strong></p></li><li><p><strong><span>服务器处理请求并返回一个HTTP响应</span></strong></p></li><li><p><strong><span>浏览器显示HTML页面</span></strong></p></li></ol><h2 id='ip首部'><span>IP首部</span></h2><p><span>IP首部结构</span></p><ul><li><span>IPV4：首部，版本号，首部长度，服务类型，总长度，标识，标志，片偏移，生存时间，协议，首部检验和，源IP地址，目的IP地址，（选项），数据</span></li><li><span>IPV6：首部，扩展首部，数据</span></li></ul><h2 id='计算机网络体系模型'><span>计算机网络体系模型</span></h2><p><img src="知识点.assets/image-20220407180922952.png" referrerpolicy="no-referrer" alt="image-20220407180922952"></p><ol start='' ><li><p><span>OSI体系</span></p><ol start='' ><li><p><span>应用层：为应用程序提供交互服务</span></p></li><li><p><span>表示层：数据格式转换；如加密解密，转换翻译，压缩解压缩</span></p></li><li><p><span>会话层：网络中两节点之间建立，维持，终止通信</span></p></li><li><p><span>运输层：提供数据传输协议：TCP，UDP，报文段传输</span></p></li><li><p><span>网络层：选择合适的路由和交换节点，IP协议，数据包传输</span></p></li><li><p><span>数据链路层：</span></p><ol start='' ><li><span>封装成帧：为网络层传下来的IP数据报添加首部尾部</span></li><li><span>透明传输：如果帧的数据部分和首部尾部有相同内容，界限会被误判，需要转义字符</span></li><li><span>差错检测：使用循环冗余检测检查比特差错</span></li><li></li></ol></li><li><p><span>物理层：实现相邻结点的比特流透明传输，比特传输</span></p></li></ol></li><li><p><span>TCP/IP体系</span></p><ol start='' ><li><span>应用层：HTTP/FTP</span></li><li><span>运输层：TCP/UDP</span></li><li><span>网际层：IP</span></li><li><span>网络接口层</span></li></ol></li><li><p><span>五层协议体系</span></p><ol start='' ><li><span>应用层</span></li><li><span>运输层</span><span>	</span></li><li><span>网络层</span></li><li><span>数据链路层</span></li><li><span>物理层</span></li></ol></li></ol><h1 id='设计模式'><span>设计模式</span></h1><h2 id='单例模式线程安全写法）'><span>单例模式（线程安全写法）</span></h2><ul><li><span>私有构造函数</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>32</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//饿汉式:开始即创建，已经线程安全</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">singleton</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">singleton</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-keyword">static</span> <span class="cm-variable">singleton</span><span class="cm-operator">*</span> <span class="cm-variable">Instance</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">singleton</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">static</span> <span class="cm-variable">singleton</span><span class="cm-operator">*</span> <span class="cm-variable">GetInstance</span>()</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">Instance</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//懒汉式：需要加锁保证安全</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">singleton</span>()</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">singleton</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">static</span> <span class="cm-variable">singleton</span><span class="cm-operator">*</span> <span class="cm-variable">Instance</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">static</span> <span class="cm-variable">singleton</span><span class="cm-operator">*</span><span class="cm-variable">GetInstance</span>()</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">Instance</span> <span class="cm-operator">==</span> <span class="cm-variable">NULL</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">lock</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">Instance</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Instance</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">singleton</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  <span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">unlock</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">Instance</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 768px;"></div><div class="CodeMirror-gutters" style="height: 768px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h2 id='简单工厂模式'><span>简单工厂模式</span></h2><p><img src="知识点.assets/2369154-20210603224128749-1355747033.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='工厂方法模式'><span>工厂方法模式</span></h2><p><img src="知识点.assets/2369154-20210603232624682-914760753.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='抽象工厂模式'><span>抽象工厂模式</span></h2><p><img src="知识点.assets/2369154-20210605112321721-1651237188.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='建造者模式'><span>建造者模式</span></h2><p><img src="知识点.assets/2369154-20210605161547609-1244603522.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='命令模式'><span>命令模式</span></h2><p><img src="知识点.assets/2369154-20210606003503751-1981101110.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='原型模式'><span>原型模式</span></h2><p><img src="知识点.assets/2369154-20210606135939147-1572158534.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='观察者模式'><span>观察者模式</span></h2><p><img src="知识点.assets/2369154-20210607190143685-1087546711.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='状态模式'><span>状态模式</span></h2><p><img src="知识点.assets/2369154-20210614192940008-485291317.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='享元模式'><span>享元模式</span></h2><p><img src="知识点.assets/2369154-20210619234857679-1416516965.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='外观模式'><span>外观模式</span></h2><p><img src="知识点.assets/2369154-20210620105042217-21292219.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='策略模式'><span>策略模式</span></h2><p><img src="知识点.assets/2369154-20210620234414213-1672414605.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='适配器模式'><span>适配器模式</span></h2><p><img src="知识点.assets/2369154-20210620210824929-563238143.png" referrerpolicy="no-referrer" alt="image"></p><h2 id='装饰器模式'><span>装饰器模式</span></h2><p><img src="知识点.assets/2369154-20210620171125631-1272142044.png" referrerpolicy="no-referrer" alt="image"></p><h1 id='算法'><span>算法</span></h1><h2 id='排序算法'><span>排序算法</span></h2><h3 id='快速排序'><span>快速排序</span></h3><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>44</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//随即选择，交换数字</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">swapNum</span>(<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span><span class="cm-variable">nums</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">begin</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">end</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">randIdx</span> <span class="cm-operator">=</span> <span class="cm-variable">rand</span>()<span class="cm-operator">%</span>(<span class="cm-variable">end</span><span class="cm-operator">-</span><span class="cm-variable">begin</span><span class="cm-operator">+</span><span class="cm-number">1</span>)<span class="cm-operator">+</span><span class="cm-variable">begin</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">idx</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">swap</span>(<span class="cm-variable">nums</span>[<span class="cm-variable">randIdx</span>],<span class="cm-variable">nums</span>[<span class="cm-variable">end</span>]);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">begin</span> ; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">end</span> ; <span class="cm-operator">++</span> <span class="cm-variable">i</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">nums</span>[<span class="cm-variable">i</span>] <span class="cm-operator">&lt;=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">end</span>])</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">swap</span>(<span class="cm-variable">nums</span>[<span class="cm-variable">idx</span><span class="cm-operator">++</span>],<span class="cm-variable">nums</span>[<span class="cm-variable">i</span>]);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">swap</span>(<span class="cm-variable">nums</span>[<span class="cm-variable">idx</span>],<span class="cm-variable">nums</span>[<span class="cm-variable">end</span>]);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">idx</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//递归</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">Qsort_1</span>(<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span><span class="cm-variable">nums</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">begin</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">end</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">begin</span> <span class="cm-operator">&gt;=</span> <span class="cm-variable">end</span>)<span class="cm-keyword">return</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">mid</span> <span class="cm-operator">=</span> <span class="cm-variable">swapNum</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">begin</span>,<span class="cm-variable">end</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Qsort_1</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">begin</span>,<span class="cm-variable">mid</span><span class="cm-operator">-</span><span class="cm-number">1</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Qsort_1</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">mid</span><span class="cm-operator">+</span><span class="cm-number">1</span>,<span class="cm-variable">end</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//非递归</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">Qsort_2</span>(<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span><span class="cm-variable">nums</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">begin</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">end</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stack</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-variable">s</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Push</span>(<span class="cm-variable">s</span>,<span class="cm-variable">begin</span>,<span class="cm-variable">end</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-operator">!</span><span class="cm-variable">s</span>.<span class="cm-variable">empty</span>())</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">s</span>.<span class="cm-variable">top</span>();<span class="cm-variable">s</span>.<span class="cm-variable">pop</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">l</span> <span class="cm-operator">=</span> <span class="cm-variable">s</span>.<span class="cm-variable">top</span>();<span class="cm-variable">s</span>.<span class="cm-variable">pop</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">l</span> <span class="cm-operator">&gt;=</span> <span class="cm-variable">r</span>)<span class="cm-keyword">continue</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">mid</span> <span class="cm-operator">=</span> <span class="cm-variable">swapNum</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">l</span>,<span class="cm-variable">r</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">36</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Push</span>(<span class="cm-variable">s</span>,<span class="cm-variable">l</span>,<span class="cm-variable">mid</span><span class="cm-operator">-</span><span class="cm-number">1</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">37</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Push</span>(<span class="cm-variable">s</span>,<span class="cm-variable">mid</span><span class="cm-operator">+</span><span class="cm-number">1</span>,<span class="cm-variable">r</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">38</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">39</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">40</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">Push</span>(<span class="cm-variable">stack</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span><span class="cm-variable">s</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">begin</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">end</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">41</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">42</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">s</span>.<span class="cm-variable">push</span>(<span class="cm-variable">begin</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">43</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">s</span>.<span class="cm-variable">push</span>(<span class="cm-variable">end</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">44</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1056px;"></div><div class="CodeMirror-gutters" style="height: 1056px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h3 id='归并排序'><span>归并排序</span></h3><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>17</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> <span class="cm-def">mergeSort</span>(<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span><span class="cm-variable">nums</span> , <span class="cm-variable-3">int</span> <span class="cm-variable">l</span> ,<span class="cm-variable-3">int</span> <span class="cm-variable">r</span>,)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">l</span> <span class="cm-operator">&gt;=</span> <span class="cm-variable">r</span>)<span class="cm-keyword">return</span> ;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">mid</span> <span class="cm-operator">=</span> (<span class="cm-variable">l</span><span class="cm-operator">+</span><span class="cm-variable">r</span>)<span class="cm-operator">&gt;&gt;</span><span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">mergeSort</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">l</span>,<span class="cm-variable">mid</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">mergeSort</span>(<span class="cm-variable">nums</span>,<span class="cm-variable">mid</span><span class="cm-operator">+</span><span class="cm-number">1</span>,<span class="cm-variable">r</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">k</span> <span class="cm-operator">=</span> <span class="cm-number">0</span> , <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">l</span> , <span class="cm-variable">j</span> <span class="cm-operator">=</span> <span class="cm-variable">mid</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;<span class="cm-comment">//两边的起点</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">mid</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">j</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">r</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">nums</span>[<span class="cm-variable">i</span>] <span class="cm-operator">&lt;</span> <span class="cm-variable">nums</span>[<span class="cm-variable">j</span>]) <span class="cm-variable">tmp</span>[<span class="cm-variable">k</span><span class="cm-operator">++</span>] <span class="cm-operator">=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">i</span><span class="cm-operator">++</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-variable">tmp</span>[<span class="cm-variable">k</span><span class="cm-operator">++</span>] <span class="cm-operator">=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">j</span><span class="cm-operator">++</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">mid</span>) <span class="cm-variable">tmp</span>[<span class="cm-variable">k</span><span class="cm-operator">++</span>] <span class="cm-operator">=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">i</span><span class="cm-operator">++</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">j</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">r</span>) <span class="cm-variable">tmp</span>[<span class="cm-variable">k</span><span class="cm-operator">++</span>] <span class="cm-operator">=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">j</span><span class="cm-operator">++</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-variable">l</span> ,<span class="cm-variable">j</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">r</span> ; <span class="cm-variable">i</span><span class="cm-operator">++</span>,<span class="cm-variable">j</span><span class="cm-operator">++</span>)<span class="cm-variable">nums</span>[<span class="cm-variable">i</span>] <span class="cm-operator">=</span> <span class="cm-variable">tmp</span>[<span class="cm-variable">j</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 408px;"></div><div class="CodeMirror-gutters" style="height: 408px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h3 id='堆排序'><span>堆排序</span></h3><ol start='' ><li><span>调整堆</span></li><li><span>将最大值交换到无序区的最后，有序区增大</span></li></ol><p><img src="知识点.assets/image-20220410150447845.png" referrerpolicy="no-referrer" alt="image-20220410150447845"></p><p>&nbsp;</p><h3 id='排序算法总览'><span>排序算法总览</span><img src="知识点.assets/image-20220404104542381.png" referrerpolicy="no-referrer" alt="image-20220404104542381"></h3><ol start='' ><li><p><span>计数排序</span></p><ol start='' ><li><span>花费O(n)来扫描数组获取min max</span></li><li><span>开辟一块大小为max-min+1的数组，统计每个数字出现的次数</span></li><li><span>依次输出</span></li></ol></li><li><p><span>桶排序</span></p><ol start='' ><li><span>将数据划分为几个桶（范围）</span></li><li><span>将数据放在对应范围内</span></li><li><span>桶内部排序</span></li></ol></li><li><p><span>基数排序：从最低位按位排序直到最高位</span></p></li><li><p><span>插入排序</span></p><ol start='' ><li><span>先让前面的排好序，再让后面的往里插</span></li><li><span>比新插入的数值大的数字往后移</span></li></ol></li><li><p><span>冒泡排序</span></p><ol start='' ><li><span>相邻的逆序就交换</span></li><li><span>每次循环能将一个数字放到正确位置，共n次</span></li></ol></li><li><p><span>选择排序：每次选出剩余数据中最小的放在前面</span></p></li><li><p><span>快速排序：选择基准，大数放右边，小数放左边；左右递归</span></p></li><li><p><span>归并排序</span></p><ol start='' ><li><span>申请大小为两个数组的和的空间</span></li><li><span>用两个指针将两个已排序的数组放到新数组</span></li><li><span>注意最后处理剩余的数组</span></li></ol></li><li><p><span>希尔排序：定义k个增量然后k次插入排序</span></p></li><li><p><span>堆排序：维护一个大顶堆，pop到vector</span></p></li><li><p><span>海量数据小内存排序：</span></p><ol start='' ><li><span>分别排序：根据内存1G，数据10G，我们将10G数据切分成10份，通过内存调用磁盘的方式，每1G进行排序，排序结束后，我们会得到10个有序的数据数组</span></li><li><span>归并：使用小顶堆多路归并</span>
<span>内存中开辟一个大小为10的最小堆，和一个缓冲区</span>
<span>取10份排序好的数据的首位进入最小堆。则最小的数位于堆顶，移除堆顶元素并写入磁盘</span></li><li><span>直到10份数据全部写完，然后将最小堆的元素按顺序回写磁盘即可。</span></li></ol></li></ol><h2 id='二分查找'><span>二分查找</span></h2><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>15</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">search</span>(<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&amp;</span> <span class="cm-variable">nums</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">target</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">l</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">nums</span>.<span class="cm-variable">size</span>() <span class="cm-operator">-</span> <span class="cm-number">1</span>;<span class="cm-comment">//[l,r]闭区间</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">l</span> <span class="cm-operator">&lt;=</span> <span class="cm-variable">r</span>){<span class="cm-comment">//l == r 时闭区间有参数</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">mid</span> <span class="cm-operator">=</span> (<span class="cm-variable">r</span> <span class="cm-operator">-</span> <span class="cm-variable">l</span>) <span class="cm-operator">/</span> <span class="cm-number">2</span> <span class="cm-operator">+</span> <span class="cm-variable">l</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">num</span> <span class="cm-operator">=</span> <span class="cm-variable">nums</span>[<span class="cm-variable">mid</span>];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">==</span> <span class="cm-variable">target</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">mid</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> <span class="cm-keyword">if</span> (<span class="cm-variable">num</span> <span class="cm-operator">&gt;</span> <span class="cm-variable">target</span>) {<span class="cm-comment">//[l,mid-1]</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">r</span> <span class="cm-operator">=</span> <span class="cm-variable">mid</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">else</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">l</span> <span class="cm-operator">=</span> <span class="cm-variable">mid</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-operator">-</span><span class="cm-number">1</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 360px;"></div><div class="CodeMirror-gutters" style="height: 360px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h2 id='二叉树的遍历'><span>二叉树的遍历</span></h2><h3 id='深度优先遍历'><span>深度优先遍历</span></h3><ul><li><span>前序遍历（递归）</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>10</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">preOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span> <span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">root</span> <span class="cm-operator">==</span> <span class="cm-keyword">nullptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">preOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">preOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">res</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="height: 240px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ul><li><span>中序遍历（递归）</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>10</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">inOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span> <span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">root</span> <span class="cm-operator">==</span> <span class="cm-keyword">nullptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">inOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">inOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">res</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="height: 240px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ul><li><span>后序遍历（递归）</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>10</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">postOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span> <span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">root</span> <span class="cm-operator">==</span> <span class="cm-keyword">nullptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">postOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">postOrder</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">res</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 240px;"></div><div class="CodeMirror-gutters" style="height: 240px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ul><li><span>前序遍历（迭代）：中左右，辅助栈入栈顺序先右后左</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>16</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">preOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stack</span><span class="cm-operator">&lt;</span><span class="cm-variable">TreeNode</span><span class="cm-operator">*&gt;</span><span class="cm-variable">stk</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">root</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span>) <span class="cm-variable">stk</span>.<span class="cm-variable">push</span>(<span class="cm-variable">root</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-operator">!</span><span class="cm-variable">stk</span>.<span class="cm-variable">empty</span>())</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">stk</span>.<span class="cm-variable">top</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">pop</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>)<span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">//入栈顺序先右后左</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 384px;"></div><div class="CodeMirror-gutters" style="height: 384px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ul><li><span>后序遍历（迭代）</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>23</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">inOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stack</span><span class="cm-operator">&lt;</span><span class="cm-variable">TreeNode</span><span class="cm-operator">*&gt;</span><span class="cm-variable">stk</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">root</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span>) <span class="cm-variable">stk</span>.<span class="cm-variable">push</span>(<span class="cm-variable">root</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">root</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-operator">!</span><span class="cm-variable">stk</span>.<span class="cm-variable">empty</span>())</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">top</span> <span class="cm-operator">=</span> <span class="cm-variable">stk</span>.<span class="cm-variable">top</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span> <span class="cm-operator">!=</span> <span class="cm-variable">cur</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span> <span class="cm-operator">!=</span> <span class="cm-variable">cur</span>)<span class="cm-comment">//先遍历左</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">push</span>(<span class="cm-variable">stk</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span> <span class="cm-operator">!=</span> <span class="cm-variable">cur</span>)<span class="cm-comment">//在遍历右</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span>{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>,<span class="cm-variable">push_back</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);<span class="cm-comment">//最后处理自己</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">pop</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">top</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 552px;"></div><div class="CodeMirror-gutters" style="height: 552px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ul><li><span>中序遍历（迭代）</span></li></ul><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="CPP" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>20</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">postOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stack</span><span class="cm-operator">&lt;</span><span class="cm-variable">TreeNode</span><span class="cm-operator">*&gt;</span><span class="cm-variable">stk</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">root</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-operator">!</span><span class="cm-variable">stk</span>.<span class="cm-variable">empty</span>() <span class="cm-operator">||</span> <span class="cm-variable">cur</span><span class="cm-operator">!=</span><span class="cm-keyword">nullptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">cur</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">push</span>(<span class="cm-variable">cur</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">cur</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>;<span class="cm-comment">//找到最左,记录路径入栈</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">top</span> <span class="cm-operator">=</span> <span class="cm-variable">stk</span>.<span class="cm-variable">top</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">stk</span>.<span class="cm-variable">pop</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span> <span class="cm-operator">!=</span> <span class="cm-keyword">nullptr</span>)<span class="cm-comment">//一直往左找，遇到右节点插一个</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">cur</span> <span class="cm-operator">=</span> <span class="cm-variable">top</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 480px;"></div><div class="CodeMirror-gutters" style="height: 480px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h3 id='广度优先遍历'><span>广度优先遍历</span></h3><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>24</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-def">levelOrder</span>(<span class="cm-variable">TreeNode</span><span class="cm-operator">*</span><span class="cm-variable">root</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">queue</span><span class="cm-operator">&lt;</span><span class="cm-variable">TreeNode</span><span class="cm-operator">*&gt;</span><span class="cm-variable">q</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-operator">!</span><span class="cm-variable">root</span>)<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">q</span>.<span class="cm-variable">push</span>(<span class="cm-variable">root</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">while</span>(<span class="cm-operator">!</span><span class="cm-variable">q</span>.<span class="cm-variable">empty</span>())</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">len</span> <span class="cm-operator">=</span> <span class="cm-variable">q</span>.<span class="cm-variable">size</span>();<span class="cm-comment">//每层的大小</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span><span class="cm-variable">cur</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-keyword">for</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span> ; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">len</span> ; <span class="cm-operator">++</span><span class="cm-variable">i</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-keyword">auto</span> <span class="cm-variable">node</span> <span class="cm-operator">=</span> <span class="cm-variable">q</span>.<span class="cm-variable">front</span>();</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-keyword">if</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">q</span>.<span class="cm-variable">push</span>(<span class="cm-variable">q</span><span class="cm-operator">-&gt;</span><span class="cm-variable">left</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-keyword">if</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">q</span>.<span class="cm-variable">push</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">right</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">cur</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">root</span><span class="cm-operator">-&gt;</span><span class="cm-variable">val</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">q</span>.<span class="cm-variable">pop</span>();<span class="cm-comment">//</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">push_back</span>(<span class="cm-variable">cur</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 576px;"></div><div class="CodeMirror-gutters" style="height: 576px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h2 id='回溯模板'><span>回溯模板</span></h2><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>23</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">Solution</span> {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span><span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">void</span> <span class="cm-variable">backTracking</span>(<span class="cm-variable">string</span> <span class="cm-operator">&amp;</span><span class="cm-variable">s</span>,<span class="cm-variable-3">int</span> <span class="cm-variable">start</span>){</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">start</span><span class="cm-operator">==</span><span class="cm-variable">s</span>.<span class="cm-variable">size</span>()){</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">emplace_back</span>(<span class="cm-variable">s</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">i</span><span class="cm-operator">=</span><span class="cm-variable">start</span>;<span class="cm-variable">i</span><span class="cm-operator">&lt;</span><span class="cm-variable">s</span>.<span class="cm-variable">size</span>();<span class="cm-operator">++</span><span class="cm-variable">i</span>){</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">swap</span>(<span class="cm-variable">s</span>[<span class="cm-variable">i</span>],<span class="cm-variable">s</span>[<span class="cm-variable">start</span>]);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">backracking</span>(<span class="cm-variable">s</span>,<span class="cm-variable">start</span><span class="cm-operator">+</span><span class="cm-number">1</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">swap</span>(<span class="cm-variable">s</span>[<span class="cm-variable">i</span>],<span class="cm-variable">s</span>[<span class="cm-variable">start</span>]);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">vector</span><span class="cm-operator">&lt;</span><span class="cm-variable">string</span><span class="cm-operator">&gt;</span> <span class="cm-variable">permutation</span>(<span class="cm-variable">string</span> <span class="cm-variable">S</span>) {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">backTracking</span>(<span class="cm-variable">S</span>,<span class="cm-number">0</span>);</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">sort</span>(<span class="cm-variable">ans</span>.<span class="cm-variable">begin</span>(),<span class="cm-variable">ans</span>.<span class="cm-variable">end</span>());</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">auto</span> <span class="cm-variable">it</span><span class="cm-operator">=</span><span class="cm-variable">unique</span>(<span class="cm-variable">ans</span>.<span class="cm-variable">begin</span>(),<span class="cm-variable">ans</span>.<span class="cm-variable">end</span>());</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ans</span>.<span class="cm-variable">erase</span>(<span class="cm-variable">it</span>,<span class="cm-variable">ans</span>.<span class="cm-variable">end</span>());<span class="cm-operator">/</span><span class="cm-variable">去重</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">ans</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 552px;"></div><div class="CodeMirror-gutters" style="height: 552px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><h2 id='寻路算法'><span>寻路算法</span></h2><ol start='' ><li><p><span>广度优先</span></p><ol start='' ><li><span>效率低下， 时间复杂度是:T(n) = O(n^2)</span></li><li><span>每个顶点之间没有</span><strong><span>权值</span></strong><span>，无法定义优先级。比如遇到水域需要绕过行走，在宽度算法里面会直接穿过水域。</span></li></ol></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>5</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 首先将根节点放入队列中。</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 从队列中取出第一个节点，并检验它是否为目标</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 如果找到目标，则结束搜寻并回传结果。</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 否则将它所有尚未检验过的直接子节点（邻节点）加入队列中。</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 若队列为空，表示整张图都检查过了——亦即图中没有欲搜寻的目标。结束搜寻并回传“找不到目标”。</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 120px;"></div><div class="CodeMirror-gutters" style="height: 120px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><ol start='2' ><li><p><span>Dijkstra算法</span></p><ol start='' ><li><span>广度优先+权值（距离起点的距离）</span></li><li><span>运行时间复杂度是:T(n) = O(V^2)，其中V为顶点个数。效率上并不高</span></li><li><span>目标查找</span><strong><span>不具有方向性</span></strong></li><li><span>可以保证得到最优路径</span></li></ol></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.99805px; left: 29.985px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 26px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>4</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -25.995px; width: 26px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 1、每个顶点都包含一个预估值cost(起点到当前顶点的距离)，每条边都有权值v ，初始时，只有起始顶点的预估值cost为0，其他顶点的预估值d都为无穷大 ∞。</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 2、查找cost值最小的顶点A，放入path队列</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 18px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 3、循环A的直接子顶点，获取子顶点当前cost值命名为current_cost，并计算新路径new_cost，new_cost=父节点A的cost+v(父节点到当前节点的边权值),如果new_cost &lt; current_cost,当前顶点的cost=new_cost</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -25.995px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 4、重复2，3直至没有顶点可以访问.</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 144px;"></div><div class="CodeMirror-gutters" style="height: 144px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 25px;"></div></div></div></div></pre><ol start='3' ><li><p><span>贪婪最佳优先搜索</span></p><ol start='' ><li><span>广度优先+权值（距离终点的距离）</span></li><li><span>速度足够的快。</span></li><li><span>基于</span><strong><span>目标</span></strong><span>去搜索</span></li><li><span>得到的路径不一定定最优</span></li></ol></li><li><p><span>A*算法</span></p><ol start='' ><li><span>广度优先+权值（距离起点的距离+距离终点的距离）</span></li><li><span>既能保证最短路径，又能最佳优先搜索，不断向目标前进优势</span></li><li><span>OPEN表保存了所有已生成的未考察的节点。CLOSE表中记录了已访问的节点。</span></li></ol></li></ol><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang="cpp" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="cpp"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10px; left: 39.99px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 36px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>35</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -36px; width: 36px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">A</span><span class="cm-operator">*</span>()</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Open</span> <span class="cm-operator">=</span> [<span class="cm-variable">起始节点</span>]<span class="cm-variable">；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">4</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Closed</span> <span class="cm-operator">=</span> [ ];</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">5</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">while</span>(<span class="cm-variable">Open表非空</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">6</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">7</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">从Open中取得一个节点X，并从Open表中删除。</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">8</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">X节点是目标节点</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">9</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">10</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">求的路径PATH</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">11</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">PATH</span>;</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">12</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">13</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span>(<span class="cm-variable">每个X的子节点Y</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">14</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">15</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">Y不在OPEN表和CLOSE表中</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">16</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">17</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-variable">求Y的估价值；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">18</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; <span class="cm-variable">将Y插入OPEN表中；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">19</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">20</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span> <span class="cm-keyword">if</span>(<span class="cm-variable">Y在OPEN表中</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">21</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">22</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">Y的估价值小于OPEN表的估价值</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">23</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">更新OPEN表中的估价值；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">24</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">25</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">else</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">26</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  {</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">27</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">Y的估价值小于CLOSE表的估价值</span>)</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">28</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">更新CLOSE表中的估价值</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">29</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">从CLOSE表中移出节点，放入OPEN表中；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">30</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">31</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">32</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">将X节点插入CLOSE表中；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">33</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">按照估价值讲OPEN表中的节点排序；</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 27px;">34</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -36px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 27px;">35</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 840px;"></div><div class="CodeMirror-gutters" style="height: 840px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 35px;"></div></div></div></div></pre><ol start='5' ><li><p><span>NavMesh</span></p><ol start='' ><li><span>创建体素化模型，分割成简单的区域，构建导航网格体</span></li><li><span>配合A*算法寻路和漏斗算法平滑路径</span></li></ol></li></ol><h2 id='top-k'><span>top K</span></h2><p><strong><span>在n个数中找出最大的k个数</span></strong></p><ol start='' ><li><span>快速排序后取前k个数,O(nlgn)</span></li><li><span>k次冒泡最大的数,O(kn)</span></li></ol><p><span>后三种方法适合处理海量数据</span></p><ol start='3' ><li><span>维护一个大小为k的小顶堆，从k+1个数开始 和堆顶的数替换，直到n,O(nlgk)</span></li><li><span>多路归并：把数据分成N部分，每部分取最大的k个数，然后把这N*k个数合起来，重复步骤。</span><img src="知识点.assets/image-20220407154208872.png" referrerpolicy="no-referrer" alt="image-20220407154208872"></li><li><span>随机选择：减治思想</span><img src="知识点.assets/image-20220407153131723.png" referrerpolicy="no-referrer" alt="image-20220407153131723"></li></ol><h2 id='字符串匹配'><span>字符串匹配</span></h2><h3 id='kmp算法'><span>KMP算法</span></h3><p><span>寻找一个字符串是不是另一个字符串的子串，单模式匹配</span></p><h3 id='字典树'><span>字典树</span></h3><p><span>利用字串的</span><strong><span>公共前缀</span></strong><span>来节省存储空间，最大限度的减少无谓的字串比较。</span>
<span>应用于字符串的检索，统计与排序，经常被搜索引擎系统用于文本词频统计。</span></p><p><img src="知识点.assets/image-20220407175013143.png" referrerpolicy="no-referrer" alt="image-20220407175013143"></p><h3 id='ac自动机'><span>AC自动机</span></h3><p><span>处理</span><strong><span>多模式匹配</span></strong><span>问题的。</span>
<span>基本可认为是TrieTree+KMP。其中KMP是一种单模式匹配算法。</span></p><h2 id='洗牌算法'><span>洗牌算法</span></h2><ol start='' ><li><span>目的：在一个数组</span><strong><span>不重复且随机</span></strong><span>取K个数字</span></li><li><span>原理：最后一个数和前面任意 n-1 个数中的一个交换，然后倒数第二个数和前面任意 n-2 个数中的一个交换...依次执行下去</span></li></ol><h1 id='ue4'><span>UE4</span></h1><h2 id='slate框架'><span>Slate框架</span></h2><p><img src="file://F:/Notes/Basic_Knowledges/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89.assets/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAcXFfNDkzMjM1MzM=,size_20,color_FFFFFF,t_70,g_se,x_16%23pic_center.jpeg?lastModify=1649290958" referrerpolicy="no-referrer" alt="在这里插入图片描述"></p><h2 id='gameplay框架'><span>GamePlay框架</span></h2><p><img src="知识点.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMzNTAwMjM4,size_16,color_FFFFFF,t_70.png" referrerpolicy="no-referrer" alt="img"></p><ol start='' ><li><p><span>GameMode:游戏的所有规则构成 Game Mode,只存在于服务器上</span></p></li><li><p><span>GameState</span></p><ol start='' ><li><span>当游戏中与规则相关的事件发生并需要跟踪并与所有玩家共享时，该信息将通过Game State进行存储和同步。使客户能够监视游戏的状态。Game State存在于服务器上并被复制到所有客户端，随着游戏的进行使所有连接的计算机保持最新状态。</span></li><li><span>GameMode通过和GameState绑定使用的，一个是抽象的规则，一个是因为规则产生的具体信息和数据</span></li></ol></li><li><p><span>GameInstance：贯穿一个游戏始终的东西</span></p></li><li><p><span>Pawn:可以被控制对象</span></p></li><li><p><span>PlayerState：</span></p><ol start='' ><li><span>玩家的信息和数据一般就记录在PlayerState里，也就是说玩家如果是Pawn/ Character，那玩家的信息和数据就记录在PlayerState里面。</span></li><li><span>GameState和PlayerState就像两个信息收集员，负责收集游戏中主要的信息和数据。</span></li></ol></li><li><p><span>Controller：Controller拥有一个Pawn类实例，负责控制该Pawn应有的行为。</span></p></li><li><p><span>HUD：二维的屏幕显示信息，如玩家的生命值、分数信息等会在该类中进行绘制显示。</span></p></li></ol><h2 id='行为树节点'><span>行为树节点</span></h2><ol start='' ><li><span>根节点root</span>
<span>行为树的入口节点</span></li><li><span>选择节点selector</span>
<span>从左到右执行子节点，直到有一个成功返回成功，或者全部失败返回失败。</span></li><li><span>随机选择节点Random Selector</span>
<span>随即顺序执行子节点，直到有一个成功返回成功，或者全部失败返回失败。</span></li><li><span>顺序节点Sequence</span>
<span>从左到右执行子节点，如果有一个失败返回失败，或者全部成功返回成功。</span></li><li><span>修饰节点Decorator</span>
<span>只包含一个子节点，用来以某种方式来改变这个子节点的行为。</span></li><li><span>并行节点Parallel</span>
<span>“同时”执行所有的节点，根据设定的退出该节点条件退出节点。</span></li><li><span>条件节点Condition</span>
<span>当条件的测试结果为true时向父节点传递success，结果为false时向父节点传递failure；</span></li><li><span>行为节点Action</span>
<span>行为节点用来完成具体的操作</span></li></ol><h2 id='行为树-vs-状态机'><span>行为树 vs 状态机</span></h2><figure><table><thead><tr><th>&nbsp;</th><th><span>行为树</span></th><th><span>状态机</span></th></tr></thead><tbody><tr><td><span>形式</span></td><td><span>树</span></td><td><span>图</span></td></tr><tr><td><span>复用性，扩展性</span></td><td><span>强</span></td><td><span>弱</span></td></tr><tr><td><span>资源消耗</span></td><td><span>消耗每一帧都从root开始，消耗的CPU更多</span></td><td><span>消耗的CPU少</span></td></tr><tr><td><span>机制</span></td><td><span>轮询</span></td><td><span>事件</span></td></tr></tbody></table></figure><h1 id='线性代数'><span>线性代数</span></h1><h2 id='点积'><span>点积</span></h2><ol start='' ><li><span>a•b = |a||b|cosθ ， 结果是一个标量</span></li><li><span>几何意义：可以用来表征或计算两个向量之间的夹角，以及在b向量在a向量方向上的投影</span></li></ol><h2 id='叉积'><span>叉积</span></h2><ol start='' ><li><span>|c|=|a×b|=|a| |b|sinα，结果是一个向量</span></li><li><span>3维空间中，可以通过两个向量的叉乘，生成第三个垂直于a，b的法向量，值是向量。2维中，两个向量的叉乘等于由向量a和向量b构成的平行四边形的面积。</span></li></ol><h2 id='求逆矩阵'><span>求逆矩阵</span></h2><ol start='' ><li><span>待定系数法</span></li></ol><div contenteditable="false" spellcheck="false" class="mathjax-block md-end-block md-math-block md-rawblock" id="mathjax-n2742" cid="n2742" mdtype="math_block" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]"><div class="md-rawblock-container md-math-container" tabindex="-1"><mjx-container class="MathJax" jax="SVG" display="true" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="13.404ex" height="2.185ex" role="img" focusable="false" viewBox="0 -883.9 5924.7 965.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-1-TEX-I-1D440" d="M289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629Z"></path><path id="MJX-1-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-1-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-1-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-1-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-1-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D440" xlink:href="#MJX-1-TEX-I-1D440"></use></g><g data-mml-node="mo" transform="translate(1273.2,0)"><use data-c="2217" xlink:href="#MJX-1-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(1995.4,0)"><g data-mml-node="mi"><use data-c="1D440" xlink:href="#MJX-1-TEX-I-1D440"></use></g><g data-mml-node="TeXAtom" transform="translate(1138,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use data-c="2212" xlink:href="#MJX-1-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(778,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(4365,0)"><use data-c="3D" xlink:href="#MJX-1-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(5420.7,0)"><use data-c="1D43C" xlink:href="#MJX-1-TEX-I-1D43C"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo>∗</mo><msup><mi>M</mi><mrow data-mjx-texclass="ORD"><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>I</mi></math></mjx-assistive-mml></mjx-container></div></div><ol start='2' ><li><span>初等变换</span></li></ol><div contenteditable="false" spellcheck="false" class="mathjax-block md-end-block md-math-block md-rawblock" id="mathjax-n2746" cid="n2746" mdtype="math_block" data-math-tag-before="0" data-math-tag-after="0" data-math-labels="[]"><div class="md-rawblock-container md-math-container" tabindex="-1"><mjx-container class="MathJax" jax="SVG" display="true" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="12.684ex" height="2.185ex" role="img" focusable="false" viewBox="0 -883.9 5606.2 965.9" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.186ex;"><defs><path id="MJX-2-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-2-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path><path id="MJX-2-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-2-TEX-N-3E" d="M84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520Z"></path><path id="MJX-2-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-2-TEX-I-1D434"></use></g><g data-mml-node="mi" transform="translate(750,0)"><use data-c="1D43C" xlink:href="#MJX-2-TEX-I-1D43C"></use></g><g data-mml-node="mo" transform="translate(1254,0)"><use data-c="2212" xlink:href="#MJX-2-TEX-N-2212"></use></g><g data-mml-node="mo" transform="translate(2309.8,0)"><use data-c="3E" xlink:href="#MJX-2-TEX-N-3E"></use></g><g data-mml-node="mi" transform="translate(3365.6,0)"><use data-c="1D43C" xlink:href="#MJX-2-TEX-I-1D43C"></use></g><g data-mml-node="msup" transform="translate(3869.6,0)"><g data-mml-node="mi"><use data-c="1D434" xlink:href="#MJX-2-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(783,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use data-c="2212" xlink:href="#MJX-2-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(778,0)"><use data-c="31" xlink:href="#MJX-2-TEX-N-31"></use></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="block"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>A</mi><mi>I</mi><mo>−</mo><mo>&gt;</mo><mi>I</mi><msup><mi>A</mi><mrow data-mjx-texclass="ORD"><mo>−</mo><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container></div></div><h1 id='wintermemories项目介绍'><span>WinterMemories项目介绍</span></h1><h2 id='背景'><span>背景</span></h2><ul><li><p><span>需求：2021年计算机设计大赛要求实现一款体现冬奥会的精神的游戏</span></p></li><li><p><span>思路：</span></p><ul><li><span>题目有关于冬奥会，如果只涉及竞技部分会落入俗套，且无法体现出精神所在</span></li><li><span>经过商讨，我们将运动员的成长经历融入到游戏中，在故事情节中穿插游戏交互</span></li></ul></li></ul><h2 id='承担的角色'><span>承担的角色</span></h2><ul><li><p><span>我秉承一颗对游戏开发热爱的心，组织了我们的参赛队伍。</span></p></li><li><p><span>在整个过程中，我扮演着项目负责人和主程的角色。</span></p><ul><li><span>项目负责人：我需要卡控整个项目的开发周期，以及品质保证，负责对内的管理分配和对外的沟通交涉。</span></li><li><span>主程：我是队内的主程，游戏逻辑的百分之九十都由我完成。下面是我的开发流程介绍：</span></li></ul></li></ul><h2 id='开发流程'><span>开发流程：</span></h2><h3 id='主菜单设计'><span>主菜单设计：</span></h3><ul><li><p><span>背景：</span></p><ul><li><span>在雪山之间运镜，体现主角的生活环境</span></li><li><span>添加后期盒子，在屏幕上产生雪花效果</span></li></ul></li><li><p><span>开始游戏btn：</span></p><ul><li><span>使用saveGame存了玩家玩到哪一关，开始游戏会恢复玩家的当前进度。</span></li></ul></li><li><p><span>设置btn</span></p><ul><li><span>蓝图实现调整游戏的声音，游戏的画面质量，高度雾，抗锯齿，亮度</span></li></ul></li><li><p><span>按键控制btn</span></p><ul><li><span>通过对UInputSettings类的修改，实现了按键的绑定解绑</span></li></ul></li><li><p><span>退出游戏btn</span></p><ul><li><span>命令行指令quit</span></li></ul></li></ul><h3 id='主场景主角的家'><span>主场景：主角的家</span></h3><ul><li><p><span>这是贯穿整个游戏的level，玩家以游客视角在这个level中按顺序探索物品，开启交互关卡</span></p><ul><li><span>每一关通关会设置gameinstance的下一关bool为true，从而触发下一关开启</span></li></ul></li><li><p><span>遇到的问题：物体交互时在场景的物体太小，无法看到物品细节（这可是美工辛苦做的），以及相关的情节介绍。</span></p><ul><li><span>解决方法：模仿密室逃脱类游戏，在交互时，将控制权转移到物体上，关闭物体的碰撞，将他移动到摄像机的前方，通过上下左右控制物体的旋转查看细节，显示文字和按键开启游戏关卡</span></li></ul></li></ul><h3 id='第一关冬奥小镇'><span>第一关：冬奥小镇</span></h3><ul><li><span>通过运镜和字幕，为玩家介绍石头镇的人文和堆冬季运动的重视。</span></li><li><span>将玩家带入情景。</span></li></ul><h3 id='第二关初来乍到'><span>第二关：初来乍到</span></h3><ul><li><p><span>主角第一次尝试滑冰运动，旨在教玩家熟悉操作</span></p></li><li><p><span>遇到的问题：玩家需要躲避随机移动的AI，完成滑冰练习。但如果AI仅仅随机运动，玩家可能不需要任何操作就能通过本关卡（地图较大，随机移动可能永远碰不到玩家），如何需要增大碰撞玩家的概率。</span></p><ul><li><span>优化方案1：增加AI数量，减小滑冰场面积——产生新的问题：性能消耗变大，进入关卡卡顿。</span></li><li><span>优化方法2：Ai每次运动会获取到玩家的location，然后根据location和一个半径R，获取其中的随机点，moveto这个随机点。</span></li></ul></li></ul><h3 id='第三关体能训练'><span>第三关：体能训练</span></h3><ul><li><p><span>一个运动员最基本的要求就是有一个良好的体格，在生活中我是学院足球队成员，对于耐力跑和折返跑特别熟悉，于是把它们做到游戏中。</span></p></li><li><p><span>光是跑圈如何体现耐力，或者增加游戏的可玩性？</span></p><ul><li><span>添加AI来增加竞技感。让AI固定路线移动 ，由最初的设置在线上（运动速度和方向和直接设置好不能匹配）变成追随线上移动的物体（避免了AI不丝滑的运动）</span></li><li><span>玩家需要快速按F键来让运动员跑起来，随着时间的推移耐力条下降的越来越快，就需要玩家更加尽力快速的按F键，模拟需要更大的耐力。</span></li><li><span>为体现更好的效果，我设置了天空球的旋转模拟日夜兼程。在后半程添加了急促呼吸音效，体现玩家的疲惫。</span></li></ul></li><li><p><span>遇到的问题：在让我的舍友试玩的时候，他直接给我来了一个反向跑步，竟也完成了跑圈任务，那这样我设置的AI陪跑还有什么价值呢...</span></p><ul><li><span>通过了解马里奥赛车游戏，了解到他是在跑圈的不同地方放上一个监测点，当玩家到了一个监测点才会开启下一个监测点，而且监测点有方向性，只能从一边通过有效。于是我们需要判断玩家和碰撞点的相对位置，然后判断碰撞是否生效。</span></li></ul></li></ul><h3 id='第四关大家小家'><span>第四关：大家小家</span></h3><ul><li><p><span>每个运动员都需要长时间训练，难免对家庭少了一点关怀。我们希望体现运动员对家人的和对事业的难以抉择，突出运动员为大局而牺牲小我的精神</span></p></li><li><p><span>这一关卡主要是通过对话方式体现</span></p></li><li><p><span>遇到的问题：如何体现对话的感觉？光在一个文本框里输出文字不直观体现是谁说的话</span></p><ul><li><span>构建一个结构体：包括名字，图片，对话内容，左右位置。</span></li><li><span>将需要的对话放到table中，在UI中获取到table的每一行做修改</span></li></ul></li></ul><h3 id='第五关折返跑--躲避球'><span>第五关：折返跑 &amp;&amp; 躲避球</span></h3><ul><li><p><span>耐力训练之后也需要一些反应训练，赛场上的突发情况很多，如果遇到了韩国选手扒拉怎么办？我们需要提高运动员的敏捷度和反应能力。</span></p></li><li><p><span>折返跑：每次跑过一条线，再跑回来，需要在规定时间内按顺序踩到三条线。我设置了一个操作的延迟。玩家需要提前一些时间预判（模拟实际中如果踩到线才想起往回跑，身体由于惯性仍会往前冲一段）所以我们需要再跑到线之前就往回跑。这里的跑步是自动的，玩家只需要切换方向。因此这里的顺序碰撞比较简单，不需要考虑方向。</span></p></li><li><p><span>躲避球：雪球发射器会随机发射雪球，玩家则需要左右运动躲避这些飞来的雪球。</span></p><ul><li><span>遇到的问题：玩家如何点击一下左/右，运动的长度正好是炮的间距呢，如果太短会卡在炮之间到一个无敌的位置，如果位移太长，又有失控的感觉</span></li><li><span>解决方法：参照地铁跑酷，处于简单考虑，我将运动员摆在x轴上，每次点击左/右，都向x的正/逆方向走固定长度，如果到达最左或者最右，atSide = true,将禁止继续往该方向行走</span></li></ul></li></ul><h3 id='第六关奥运赛场'><span>第六关：奥运赛场</span></h3><ul><li><p><span>这一关我们希望主角赢，所以必须由程序控制角色。使用耐力跑的AI，换成滑冰状态机。</span></p></li><li><p><span>遇到的问题：玩家不能控制，不能光跟在一个AI的脑袋后面看个没完吧？</span></p><ul><li><span>应该有一个上帝视角观察，这样效果会更好</span></li><li><span>解决方法：模拟电视转播奥运会：有解说，有随着运动员移动的镜头，有现场的大屏幕，以及电视机转场效果，和赛后的排行榜UI。</span></li><li><span>可切换镜头的实现：计算AI和三个镜头的距离，选择最近的为new view target，跟随运动员旋转。</span></li></ul></li></ul><h2 id='整体性问题'><span>整体性问题</span></h2><ul><li><p><span>如何推进游戏？</span></p><ul><li><span>方案一：失败的话进度不往前推，需要反复重复（应用在训练关卡，让玩家体会训练的艰辛）</span></li><li><span>方案二：脱离玩家控制，程序写好玩家胜利（应用在奥运赛场，让玩家体会功夫不负有心人的快乐）</span></li></ul></li><li><p><span>版本迭代：2D转3D</span></p><ul><li><span>最初的设计为2D模式，但一直达不到想要的效果，而且大量的sprites2D让美工方面难以完成</span></li><li><span>在中期权衡之后，搜集了一些3D模型，果断推翻原来的工程，转换为3D重新开发</span></li></ul></li></ul><h2 id='项目复盘'><span>项目复盘</span></h2><ul><li><span>整个项目都是以实现功能为目的，没有考虑性能包括复杂度。现在想一想，能优化的地方还很多。</span></li></ul><h3 id='优化'><span>优化</span></h3><ul><li><p><span>可以用到的设计模式</span></p><ul><li><span>在一个训练关卡需要随机发射炮弹，如果每次spawn destroy会很浪费性能，可以使用</span><strong><span>享元模式</span></strong><span>创建一个雪球池，存储5个就嘎嘎够用，每次射出没碰到玩家就重回雪球池，节省了一些开销，空间换时间</span></li><li><span>在过场动画使用了</span><strong><span>外观模式</span></strong><span>，将特效，镜头序列轨道，音乐包装在一个类里统一播放停止</span></li><li><span>在角色里有一个用于和屋内物体交互的组件，而不是直接在角色上写逻辑，运用</span><strong><span>组件模式</span></strong><span>解耦合，且不会影响character在之后关卡中的使用</span></li><li><span>不同关卡的AI来自同一个父类加上</span><strong><span>装饰器模式</span></strong><span>，一个可以随机走路，一个可以循迹走路，比直接继承生成两个子类要灵活</span></li></ul></li><li><p><span>为了让玩家按顺序跑圈，创建了很多碰撞体和判断条件。其实可以创建一个，然后改变他的位置到合适的地方，如果道路很长的话，能节省不少资源。</span></p></li></ul><h3 id='个人反思'><span>个人反思</span></h3><p><span>虽然取得了一个国家级一等奖的成绩，但没有让我满意。我终究还是太菜了，游戏演示视频看着还不错，实际游戏中漏洞百出。在做游戏的时候考虑的不够全面，也考虑不到一些设计模式，和性能上的优化，甚至导入了很多不合规矩的模型拉慢关卡的渲染速度。在游戏开发的学习之路还很漫长啊，不积跬步，无以千里。</span></p><h1 id='游戏开发'><span>游戏开发</span></h1><h2 id='游戏开发流程'><span>游戏开发流程</span></h2><p><img src="知识点.assets/image-20220407093020081.png" referrerpolicy="no-referrer" alt="image-20220407093020081"></p><h2 id='游戏外挂检测'><span>游戏外挂检测</span></h2><ol start='' ><li><span>变量检测，设置一个全局变量。在游戏关键功能函数的外层函数赋值，在功能函数内部检测。正常游戏调用肯定是一步一步执行的，必然会对变量赋值，但是游戏外挂会直接调用功能函数，函数内部发现变量没有被赋值，而检测到外挂。</span></li><li><span>堆栈检测，在游戏功能函数内部 读取堆栈信息，以此得到调用函数的代码来源，如果发现并非游戏的代码领空，那比如是外挂程序了。</span></li><li><span>数据检测，不断读取关键数据 以查看是否被外挂篡改，不过直接查看太过容易被外挂作者发现，一般混在游戏正常读取数据的代码中 间接查看是否异常。</span></li><li><span>CRC检测，CRC检测主要是保护游戏代码不被外挂程序篡改，游戏中有一些关键逻辑代码，比如 如果 血量 为 0 的话 会判断人物死亡，外挂可以恶意篡改 判断逻辑，让程序无论怎样都不会执行死亡代码，从而实现无敌效果。CRC检测的原理是，不断的读取关键代码的值，以此查看代码是否被篡改。</span></li><li><span>行为检测，主要是检测用户的行为，主要是利用深度学习 人工智能 大数据 对玩家的行为数据 进行分析。比如，一局游戏中 一位玩家爆头和击杀率都特别的高，鼠标移动的轨迹几乎为直线，那么就可以把这些数据异常的玩家 抽调出来 转入人工检测，或者极为异常的 直接封号处理。</span></li></ol><h2 id='游戏类型'><span>游戏类型</span></h2><ol start='' ><li><p><span>按游戏内容分类：</span></p><ol start='' ><li><p><span>RPG（Role Playing Game）角色扮演游戏</span></p><ol start='' ><li><span>ARPG （Action RPG）动作角色扮演类游戏</span></li><li><span>SRPG（Simulation RPG）模拟角色扮演类游戏</span></li></ol></li><li><p><span>FPS（First Person Shooting）第一人称射击游戏</span></p></li><li><p><span>RTS（Real Time Strategy）即时战略游戏</span></p></li><li><p><span>AVG（ Adventure Game）冒险类游戏</span></p></li><li><p><span>SLG（Simulation Game）策略与战棋类游戏</span></p></li><li><p><span>RAC（Race Game）赛车竞速类游戏</span></p></li><li><p><span>ACT（Action Game）动作类游戏</span></p></li><li><p><span>SIM（simulation）模拟经营类游戏</span></p></li><li><p><span>EDU（education）养成类游戏</span></p></li><li><p><span>FLY（Fly Game）飞行模拟类游戏</span></p></li><li><p><span>TAB（Table Game）桌面类游戏</span></p></li><li><p><span>SPG（Sport Game）体育类游戏</span></p></li><li><p><span>FTG（Fighting Game）格斗类游戏</span></p></li><li><p><span>SFTG（Simulation FTG）模拟格斗类游戏</span></p></li><li><p><span>PUZ（Puzzle Game）益智类游戏</span></p></li><li><p><span>STG（Shooting Game）射击类游戏</span></p></li><li><p><span>ETC（Etcetra Game）其他类游戏</span></p></li></ol></li><li><p><span>按游戏对抗方式分类： </span></p><ol start='' ><li><span>P V E（Player VS Environment）游戏</span></li><li><span>P V P（Player VS Player）游戏</span></li></ol></li></ol><h1 id='其他'><span>其他</span></h1><h2 id='自我介绍'><span>自我介绍</span></h2><p><span>面试官你好，我叫任彪，是中北大学人工智能专业19级学生，大一下学期了解到有游戏开发这么个职位，觉得能用代码实现出一个新的世界真的很厉害，自己对这方面有一种特别的渴望，开始将自己学习的重心向游戏开发偏移。我认为游戏研发岗位需要的核心能力有快速学习能力，团队协作能力，这和我的核心能力也是特别匹配的。大二我作为项目负责人和主程，组织队伍参加了那年的计算机设计大赛，首先从团队协作能力角度说，我负责整个团队的协调配合，处理了大量的对内对外的沟通工作。从快速学习的角度说，我在半年时间里从一个只是听说过UE的菜鸟，自学蓝图和c++，一人实现所有的的游戏逻辑，完成了我人生真正意义上的首个游戏，并有幸取得国家级一等奖。所以我相信自己有足够能力胜任这份工作。郭德纲说：如果你的兴趣能成为你的事业，这是一件无比幸运的事，我也希望我未来能在这个领域进行学习和深耕。谢谢</span></p><h2 id='未来规划'><span>未来规划</span></h2><p><span>首先我选择了游戏行业，这是一个</span><strong><span>可以将我的兴趣和工作结合起来的行业</span></strong><span>，是我非常喜欢的，所以我会很用心对待游戏研发岗位。近期规划是，首先努力提升自己的专业素养，持续学到更多的知识，将专业技能转化成一份工作技能，</span><strong><span>希望后续可以</span></strong><span>在这个行业独当一面，解决遇到的各种问题。软实力方面，我希望自己能在人际交往方面获得一些进步，提升自己逻辑能力和沟通能力。最后希望自己能尽早实现经济独立，不给父母添加负担。</span></p><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n0"><a class="md-toc-inner" href="#c">c++</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2"><a class="md-toc-inner" href="#static-5点">static 5点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n14"><a class="md-toc-inner" href="#const-11点">const 11点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n107"><a class="md-toc-inner" href="#虚函数-13点">虚函数 13点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n170"><a class="md-toc-inner" href="#智能指针-6点">智能指针 6点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n217"><a class="md-toc-inner" href="#多态">多态</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n245"><a class="md-toc-inner" href="#类型转换运算符cast-4点">类型转换运算符cast 4点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n270"><a class="md-toc-inner" href="#c11新特性">C++11新特性</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n372"><a class="md-toc-inner" href="#源码到可执行文件的过程">源码到可执行文件的过程</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n400"><a class="md-toc-inner" href="#oop面向对象">OOP面向对象</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n468"><a class="md-toc-inner" href="#new和malloc">new和malloc</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n518"><a class="md-toc-inner" href="#多重继承">多重继承</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n528"><a class="md-toc-inner" href="#模板">模板</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n558"><a class="md-toc-inner" href="#野指针和悬空指针">野指针和悬空指针</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n568"><a class="md-toc-inner" href="#c不能被继承的类">c++不能被继承的类</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n579"><a class="md-toc-inner" href="#私有析构">私有析构</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n585"><a class="md-toc-inner" href="#右值-8点">右值 8点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n617"><a class="md-toc-inner" href="#浅拷贝和深拷贝">浅拷贝和深拷贝</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n622"><a class="md-toc-inner" href="#c语言和c">C语言和C++</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n652"><a class="md-toc-inner" href="#classstruct和union">class，struct和union</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n674"><a class="md-toc-inner" href="#lambda表达式">lambda表达式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n701"><a class="md-toc-inner" href="#内联函数">内联函数</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n736"><a class="md-toc-inner" href="#指针和引用">指针和引用</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n779"><a class="md-toc-inner" href="#内存管理">内存管理</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n792"><a class="md-toc-inner" href="#大端小端">大端&amp;小端</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n810"><a class="md-toc-inner" href="#继承方式">继承方式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n812"><a class="md-toc-inner" href="#类的大小">类的大小</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n835"><a class="md-toc-inner" href="#操作符重载">操作符重载</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n861"><a class="md-toc-inner" href="#函数调用过程">函数调用过程</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n873"><a class="md-toc-inner" href="#池化技术">池化技术</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n885"><a class="md-toc-inner" href="#位运算">位运算</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n903"><a class="md-toc-inner" href="#extern">extern</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n913"><a class="md-toc-inner" href="#类型推导">类型推导</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n935"><a class="md-toc-inner" href="#函数指针">函数指针</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n955"><a class="md-toc-inner" href="#链接性">链接性</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n974"><a class="md-toc-inner" href="#this指针">this指针</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n984"><a class="md-toc-inner" href="#操作系统">操作系统</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n985"><a class="md-toc-inner" href="#操作系统的特性">操作系统的特性</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n987"><a class="md-toc-inner" href="#死锁-3点">死锁 3点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1048"><a class="md-toc-inner" href="#进程线程和协程">进程，线程和协程</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1131"><a class="md-toc-inner" href="#io模型">IO模型</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1152"><a class="md-toc-inner" href="#锁">锁</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1173"><a class="md-toc-inner" href="#用户态和内核态">用户态和内核态</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1183"><a class="md-toc-inner" href="#中断处理过程">中断处理过程</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1195"><a class="md-toc-inner" href="#系统调用">系统调用</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1201"><a class="md-toc-inner" href="#操作系统的主要功能">操作系统的主要功能</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1203"><a class="md-toc-inner" href="#并行和并发">并行和并发</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1206"><a class="md-toc-inner" href="#碎片">碎片</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1214"><a class="md-toc-inner" href="#内存分配算法">内存分配算法</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1216"><a class="md-toc-inner" href="#分页和分段">分页和分段</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1254"><a class="md-toc-inner" href="#虚拟内存">虚拟内存</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1296"><a class="md-toc-inner" href="#磁盘io">磁盘IO</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n1304"><a class="md-toc-inner" href="#图形学">图形学</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1305"><a class="md-toc-inner" href="#渲染管线">渲染管线</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1329"><a class="md-toc-inner" href="#光照模型">光照模型 </a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1330"><a class="md-toc-inner" href="#lambert漫反射模型">Lambert漫反射模型</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1332"><a class="md-toc-inner" href="#phong">Phong</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1338"><a class="md-toc-inner" href="#blinn-phong光照模型">Blinn-Phong光照模型</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1345"><a class="md-toc-inner" href="#剔除方法">剔除方法</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1357"><a class="md-toc-inner" href="#用到的buffer">用到的BUFFER</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1369"><a class="md-toc-inner" href="#碰撞检测">碰撞检测</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1370"><a class="md-toc-inner" href="#包围盒">包围盒</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1382"><a class="md-toc-inner" href="#速度过快体积过小导致物理引擎检测不到碰撞如何解决">速度过快/体积过小导致物理引擎检测不到碰撞，如何解决。</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1388"><a class="md-toc-inner" href="#mvp变换">MVP变换</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1409"><a class="md-toc-inner" href="#采样">采样</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1424"><a class="md-toc-inner" href="#深度处理">深度处理</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1435"><a class="md-toc-inner" href="#纹理映射">纹理映射</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1441"><a class="md-toc-inner" href="#顶点在渲染管线的变化">顶点在渲染管线的变化</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1443"><a class="md-toc-inner" href="#贴图">贴图</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1453"><a class="md-toc-inner" href="#贝塞尔曲线">贝塞尔曲线</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1464"><a class="md-toc-inner" href="#曲面处理">曲面处理</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1480"><a class="md-toc-inner" href="#光线追踪">光线追踪</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1488"><a class="md-toc-inner" href="#路径追踪">路径追踪</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1496"><a class="md-toc-inner" href="#光线和三角面求交">光线和三角面求交</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1500"><a class="md-toc-inner" href="#加速算法">加速算法</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1516"><a class="md-toc-inner" href="#mipmap">mipmap</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1524"><a class="md-toc-inner" href="#lod多层级细节">LOD多层级细节</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n1530"><a class="md-toc-inner" href="#stl和数据结构">STL和数据结构</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1531"><a class="md-toc-inner" href="#stl底层实现">STL底层实现</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1601"><a class="md-toc-inner" href="#二叉树">二叉树</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1613"><a class="md-toc-inner" href="#红黑树">红黑树</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1677"><a class="md-toc-inner" href="#b树和b树">B树和B+树</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1715"><a class="md-toc-inner" href="#哈希表">哈希表</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1747"><a class="md-toc-inner" href="#堆">堆</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1752"><a class="md-toc-inner" href="#图">图</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1767"><a class="md-toc-inner" href="#并查集">并查集</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1785"><a class="md-toc-inner" href="#顺序存储结构和链式存储结构">顺序存储结构和链式存储结构</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1819"><a class="md-toc-inner" href="#stl迭代器">STL迭代器</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1825"><a class="md-toc-inner" href="#vector扩容机制">vector扩容机制</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n1847"><a class="md-toc-inner" href="#计算机网络">计算机网络</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1848"><a class="md-toc-inner" href="#tcp-udp-10点">TCP UDP 10点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1910"><a class="md-toc-inner" href="#tcp三次握手四次挥手">TCP三次握手，四次挥手</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1911"><a class="md-toc-inner" href="#三次握手">三次握手</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1954"><a class="md-toc-inner" href="#四次挥手">四次挥手</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1981"><a class="md-toc-inner" href="#tcp拥塞控制">TCP拥塞控制</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1994"><a class="md-toc-inner" href="#tcp如何保证可靠性-6点">TCP如何保证可靠性 6点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2017"><a class="md-toc-inner" href="#tcp粘包和拆包">TCP粘包和拆包</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2018"><a class="md-toc-inner" href="#tcp粘包">TCP粘包</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2038"><a class="md-toc-inner" href="#tcp拆包">TCP拆包</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2049"><a class="md-toc-inner" href="#心跳机制">心跳机制</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2055"><a class="md-toc-inner" href="#帧同步和状态同步">帧同步和状态同步</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2093"><a class="md-toc-inner" href="#http和https">HTTP和HTTPS</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2094"><a class="md-toc-inner" href="#http">HTTP</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2276"><a class="md-toc-inner" href="#https">HTTPS</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2319"><a class="md-toc-inner" href="#长连接和短连接">长连接和短连接</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2331"><a class="md-toc-inner" href="#web页面请求流程在浏览器输入url后回车的流程）">web页面请求流程（在浏览器输入URL后回车的流程） </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2372"><a class="md-toc-inner" href="#ip首部">IP首部</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2379"><a class="md-toc-inner" href="#计算机网络体系模型">计算机网络体系模型</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2432"><a class="md-toc-inner" href="#设计模式">设计模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2433"><a class="md-toc-inner" href="#单例模式线程安全写法）">单例模式（线程安全写法）</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2438"><a class="md-toc-inner" href="#简单工厂模式">简单工厂模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2440"><a class="md-toc-inner" href="#工厂方法模式">工厂方法模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2442"><a class="md-toc-inner" href="#抽象工厂模式">抽象工厂模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2444"><a class="md-toc-inner" href="#建造者模式">建造者模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2446"><a class="md-toc-inner" href="#命令模式">命令模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2448"><a class="md-toc-inner" href="#原型模式">原型模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2450"><a class="md-toc-inner" href="#观察者模式">观察者模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2452"><a class="md-toc-inner" href="#状态模式">状态模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2454"><a class="md-toc-inner" href="#享元模式">享元模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2456"><a class="md-toc-inner" href="#外观模式">外观模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2458"><a class="md-toc-inner" href="#策略模式">策略模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2460"><a class="md-toc-inner" href="#适配器模式">适配器模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2462"><a class="md-toc-inner" href="#装饰器模式">装饰器模式</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2464"><a class="md-toc-inner" href="#算法">算法</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2465"><a class="md-toc-inner" href="#排序算法">排序算法</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2466"><a class="md-toc-inner" href="#快速排序">快速排序</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2468"><a class="md-toc-inner" href="#归并排序">归并排序</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2470"><a class="md-toc-inner" href="#堆排序">堆排序</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2478"><a class="md-toc-inner" href="#排序算法总览">排序算法总览</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2541"><a class="md-toc-inner" href="#二分查找">二分查找</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2543"><a class="md-toc-inner" href="#二叉树的遍历">二叉树的遍历</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2544"><a class="md-toc-inner" href="#深度优先遍历">深度优先遍历</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2569"><a class="md-toc-inner" href="#广度优先遍历">广度优先遍历</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2571"><a class="md-toc-inner" href="#回溯模板">回溯模板</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2573"><a class="md-toc-inner" href="#寻路算法">寻路算法</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2626"><a class="md-toc-inner" href="#top-k">top K</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2641"><a class="md-toc-inner" href="#字符串匹配">字符串匹配</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2642"><a class="md-toc-inner" href="#kmp算法">KMP算法</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2644"><a class="md-toc-inner" href="#字典树">字典树</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2647"><a class="md-toc-inner" href="#ac自动机">AC自动机</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2649"><a class="md-toc-inner" href="#洗牌算法">洗牌算法</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2655"><a class="md-toc-inner" href="#ue4">UE4</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2656"><a class="md-toc-inner" href="#slate框架">Slate框架</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2658"><a class="md-toc-inner" href="#gameplay框架">GamePlay框架</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2685"><a class="md-toc-inner" href="#行为树节点">行为树节点</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2703"><a class="md-toc-inner" href="#行为树-vs-状态机">行为树 vs 状态机</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2725"><a class="md-toc-inner" href="#线性代数">线性代数</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2726"><a class="md-toc-inner" href="#点积">点积</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2732"><a class="md-toc-inner" href="#叉积">叉积</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2738"><a class="md-toc-inner" href="#求逆矩阵">求逆矩阵</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2747"><a class="md-toc-inner" href="#wintermemories项目介绍">WinterMemories项目介绍</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2748"><a class="md-toc-inner" href="#背景">背景</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2759"><a class="md-toc-inner" href="#承担的角色">承担的角色</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2770"><a class="md-toc-inner" href="#开发流程">开发流程：</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2771"><a class="md-toc-inner" href="#主菜单设计">主菜单设计：</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2800"><a class="md-toc-inner" href="#主场景主角的家">主场景：主角的家</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2812"><a class="md-toc-inner" href="#第一关冬奥小镇">第一关：冬奥小镇</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2818"><a class="md-toc-inner" href="#第二关初来乍到">第二关：初来乍到</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2823"><a class="md-toc-inner" href="#第三关体能训练">第三关：体能训练</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2843"><a class="md-toc-inner" href="#第四关大家小家">第四关：大家小家</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2854"><a class="md-toc-inner" href="#第五关折返跑--躲避球">第五关：折返跑 &amp;&amp; 躲避球</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2867"><a class="md-toc-inner" href="#第六关奥运赛场">第六关：奥运赛场</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2878"><a class="md-toc-inner" href="#整体性问题">整体性问题</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2902"><a class="md-toc-inner" href="#项目复盘">项目复盘</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2905"><a class="md-toc-inner" href="#优化">优化</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2921"><a class="md-toc-inner" href="#个人反思">个人反思</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2923"><a class="md-toc-inner" href="#游戏开发">游戏开发</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2924"><a class="md-toc-inner" href="#游戏开发流程">游戏开发流程</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2926"><a class="md-toc-inner" href="#游戏外挂检测">游戏外挂检测</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2938"><a class="md-toc-inner" href="#游戏类型">游戏类型</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2989"><a class="md-toc-inner" href="#其他">其他</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2990"><a class="md-toc-inner" href="#自我介绍">自我介绍</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2992"><a class="md-toc-inner" href="#未来规划">未来规划</a></span></p></div><p>&nbsp;</p></div></div>
</body>
</html>